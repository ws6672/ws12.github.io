<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="一些关于技术的碎语"><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.4"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.4"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><title>OpenAPI 3.0 | 微言术语</title></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">OpenAPI 3.0</h1><a id="logo" href="/.">微言术语</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">OpenAPI 3.0</h1><div class="post-meta"><a href="/2021/06/15/OpenAPI3-0/#comments" class="comment-count"></a><p><span class="date">Jun 15, 2021</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>OpenAPI3.0的部分译文，来自于<a href="https://github.com/fishead/OpenAPI-Specification" target="_blank" rel="noopener">Github相关 项目</a> ，存储避免丢失。</p>
<h1 id="开放API规范"><a href="#开放API规范" class="headerlink" title="开放API规范"></a>开放API规范</h1><h4 id="版本-3-0-0"><a href="#版本-3-0-0" class="headerlink" title="版本 3.0.0"></a>版本 3.0.0</h4><p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “NOT RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in <a href="https://tools.ietf.org/html/bcp14" target="_blank" rel="noopener">BCP 14</a> <a href="https://tools.ietf.org/html/rfc2119" target="_blank" rel="noopener">RFC2119</a> <a href="https://tools.ietf.org/html/rfc8174" target="_blank" rel="noopener">RFC8174</a> when, and only when, they appear in all capitals, as shown here.</p>
<p>This document is licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener">The Apache License, Version 2.0</a>.</p>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>OpenAPI 规范（OAS），是定义一个标准的、与具体编程语言无关的RESTful API的规范。OpenAPI 规范使得人类和计算机都能在“不接触任何程序源代码和文档、不监控网络通信”的情况下理解一个服务的作用。如果您在定义您的 API 时做的很好，那么使用 API 的人就能非常轻松地理解您提供的 API 并与之交互了。</p>
<p>如果您遵循 OpenAPI 规范来定义您的 API，那么您就可以用文档生成工具来展示您的 API，用代码生成工具来自动生成各种编程语言的服务器端和客户端的代码，用自动测试工具进行测试等等。</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><!-- TOC depthFrom:1 depthTo:3 withLinks:1 updateOnSave:1 orderedList:0 -->

<ul>
<li><a href="#definitions">定义</a><ul>
<li><a href="#oasDocument">开放API文档</a></li>
<li><a href="#pathTemplating">路径模板</a></li>
<li><a href="#mediaTypes">媒体类型</a></li>
<li><a href="#httpCodes">HTTP 状态码</a></li>
</ul>
</li>
<li><a href="#specification">规范</a><ul>
<li><a href="#versions">版本</a></li>
<li><a href="#format">格式</a></li>
<li><a href="#documentStructure">文档结构</a></li>
<li><a href="#dataTypes">数据类型</a></li>
<li><a href="#richText">富文本格式</a></li>
<li><a href="#relativeReferences">相对引用</a></li>
<li><a href="#schema">结构</a><ul>
<li><a href="#oasObject">OpenAPI 对象</a></li>
<li><a href="#infoObject">Info 对象</a></li>
<li><a href="#contactObject">Contact 对象</a></li>
<li><a href="#licenseObject">License 对象</a></li>
<li><a href="#serverObject">Server 对象</a></li>
<li><a href="#serverVariableObject">Server Variable 对象</a></li>
<li><a href="#componentsObject">Components 对象</a></li>
<li><a href="#pathsObject">Paths 对象</a></li>
<li><a href="#pathItemObject">Path Item 对象</a></li>
<li><a href="#operationObject">Operation 对象</a></li>
<li><a href="#externalDocumentationObject">External Documentation 对象</a></li>
<li><a href="#parameterObject">Parameter 对象</a></li>
<li><a href="#requestBodyObject">Request Body 对象</a></li>
<li><a href="#mediaTypeObject">Media Type 对象</a></li>
<li><a href="#encodingObject">Encoding 对象</a></li>
<li><a href="#responsesObject">Responses 对象</a></li>
<li><a href="#responseObject">Response 对象</a></li>
<li><a href="#callbackObject">Callback 对象</a></li>
<li><a href="#exampleObject">Example 对象</a></li>
<li><a href="#linkObject">Link 对象</a></li>
<li><a href="#headerObject">Header 对象</a></li>
<li><a href="#tagObject">Tag 对象</a></li>
<li><a href="#referenceObject">Reference 对象</a></li>
<li><a href="#schemaObject">Schema 对象</a></li>
<li><a href="#discriminatorObject">Discriminator 对象</a></li>
<li><a href="#xmlObject">XML 对象</a></li>
<li><a href="#securitySchemeObject">Security Scheme 对象</a></li>
<li><a href="#oauthFlowsObject">OAuth Flows 对象</a></li>
<li><a href="#oauthFlowObject">OAuth Flow 对象</a></li>
<li><a href="#securityRequirementObject">Security Requirement 对象</a></li>
</ul>
</li>
<li><a href="#specificationExtensions">规范扩展</a></li>
<li><a href="#securityFiltering">Security Filtering</a></li>
</ul>
</li>
<li><a href="#revisionHistory">附录 A: 修订历史</a></li>
</ul>
<!-- /TOC -->

<h2 id="术语定义"><a href="#术语定义" class="headerlink" title="术语定义"></a><a name="definitions"></a>术语定义</h2><h5 id="开放API文档"><a href="#开放API文档" class="headerlink" title="开放API文档"></a><a name="oasDocument"></a>开放API文档</h5><p>一（或多）份用来定义或描述一个API的文档。</p>
<h5 id="路径模板"><a href="#路径模板" class="headerlink" title="路径模板"></a><a name="pathTemplating"></a>路径模板</h5><p>路径模板指用大括号标记来标记一段URL作为可替换的路径参数。</p>
<h5 id="媒体类型"><a href="#媒体类型" class="headerlink" title="媒体类型"></a><a name="mediaTypes"></a>媒体类型</h5><p>媒体类型定义分散于多处。<br>媒体类型定义应当符合<a href="http://tools.ietf.org/html/rfc6838" target="_blank" rel="noopener">RFC6838</a>。</p>
<p>以下是一些媒体类型定义的示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">text/plain; charset=utf-8</span><br><span class="line">application/json</span><br><span class="line">application/vnd.github+json</span><br><span class="line">application/vnd.github.v3+json</span><br><span class="line">application/vnd.github.v3.raw+json</span><br><span class="line">application/vnd.github.v3.text+json</span><br><span class="line">application/vnd.github.v3.html+json</span><br><span class="line">application/vnd.github.v3.full+json</span><br><span class="line">application/vnd.github.v3.diff</span><br><span class="line">application/vnd.github.v3.patch</span><br></pre></td></tr></table></figure>

<h5 id="HTTP状态码"><a href="#HTTP状态码" class="headerlink" title="HTTP状态码"></a><a name="httpCodes"></a>HTTP状态码</h5><p>HTTP状态码被用来表示一次请求的被执行状态。<br><a href="http://tools.ietf.org/html/rfc7231#section-6" target="_blank" rel="noopener">RFC7231</a>定义了有效的状态码，可以在<a href="http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml" target="_blank" rel="noopener">IANA Status Code Registry</a>找到已经被注册的状态码的列表。</p>
<h2 id="规范"><a href="#规范" class="headerlink" title="规范"></a><a name="specification"></a>规范</h2><h3 id="版本"><a href="#版本" class="headerlink" title="版本"></a><a name="versions"></a>版本</h3><p>开放API规范使用符合<a href="http://semver.org/spec/v2.0.0.html" target="_blank" rel="noopener">语义化版本 2.0.0</a>(semver)规范的版本号。</p>
<p>语义化版本的<code>主版本号</code>、<code>次版本号</code>部分（比如<code>3.0</code>）应当被用来标记开放API规范的特性变动。通常 <em><code>.修订号</code></em> 版本被用来表示本文档文档的错误修正而不是特性变动。支持开放API规范3.0的工具应该兼容所有3.0.*的版本，工具不应当关注修订版本号，比如<code>3.0.0</code>和<code>3.0.1</code>对它来说应该没有任何区别。</p>
<p>此后开放API规范的相同主版本号下更高次要版本的发布不应当对面向低于此次要版本号开发的工具的造成干扰。因此<code>3.1.0</code>版本的规范应当可以在面向<code>3.0.0</code>版本规范开发的工具内使用。</p>
<p>任何兼容开放API规范 3.*.* 的文档应当包含一个<a href="#oasVersion"><code>openapi</code></a> 字段用来表明它使用的规范的语义化版本。</p>
<h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a><a name="format"></a>格式</h3><p>一份遵从开放API规范的文档是一个自包含的JSON对象，可以使用JSON或YAML格式编写。</p>
<p>比如一个字段有一组值，用JSON格式表示为：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">"field"</span>: [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>规范内的所有字段名都是<strong>小写</strong>。</p>
<p>字段分为两种：固定字段和模式字段。固定字段的字段名是确定的，模式字段的字段名需要符合一定的模式。</p>
<p>如果一个对象里有模式字段，那么在这个对象里的模式字段的名字不能有重复的。</p>
<p>为了保留在 YAML 和 JSON 格式之间转换的能力，推荐使用<a href="http://www.yaml.org/spec/1.2/spec.html" target="_blank" rel="noopener">1.2</a>版本的YAML格式，而且还需要符合以下限制：</p>
<ul>
<li>Tags 必须被限制在<a href="http://www.yaml.org/spec/1.2/spec.html#id2803231" target="_blank" rel="noopener">JSON Schema ruleset</a>允许的范围内。</li>
<li>Keys 必须是<a href="http://yaml.org/spec/1.2/spec.html#id2802346" target="_blank" rel="noopener">YAML Failsafe schema ruleset</a>规范定义的纯字符串。</li>
</ul>
<p><strong>注意：</strong> 虽然API文档是使用 YAML 或 JSON 格式书写的，但是API的请求体和响应体或者其他内容可以是任何格式。</p>
<h3 id="文档结构"><a href="#文档结构" class="headerlink" title="文档结构"></a><a name="documentStructure"></a>文档结构</h3><p>一份 OpenAPI 文档可以是单个文件也可以被拆分为多个文件， 连接的部分由用户自行决定。在后一种情形下，必须如 <a href="http://json-schema.org" target="_blank" rel="noopener">JSON Schema</a> 中定义的那样使用 <code>$ref</code> 字段来相互引用。</p>
<p>推荐将根开放API文档命名为<code>openapi.json</code> 或 <code>openapi.yaml</code>。</p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a><a name="dataTypes"></a>数据类型</h3><p>在 OAS 中的原始数据类型是基于 <a href="https://tools.ietf.org/html/draft-wright-json-schema-00#section-4.2" target="_blank" rel="noopener">JSON Schema Specification Wright Draft 00</a> 所支持的类型。注意 <code>integer</code> 也作为一个被支持的类型并被定义为不包含小数或指数部分的 JSON 数字。<br><code>null</code> 不是一个被支持的类型 (查看 <a href="#schemaNullable"><code>nullable</code></a> 来获得替代解决方案)。<br>Models 使用 <a href="#schemaObject">Schema Object</a> 定义，这是一个 JSON Schema Specification Wright Draft 00 的扩展。</p>
<p><a name="dataTypeFormat"></a>原始类型可以有一个可选的修饰属性：<code>format</code>。<br>OAS 使用多个已知的格式来丰富类型定义。尽管如此，为了文档的需要，<code>format</code> 属性被设计为一个 <code>string</code> 类型的开放属性值，可以包含任意值。比如 <code>&quot;email&quot;</code>, <code>&quot;uuid&quot;</code> 等未被此规范定义的格式也可以被使用。没有被定义的 <code>format</code> 属性类型遵从 JSON Schema 中的类型定义。无法识别某个 <code>format</code> 值的工具应该回退到 <code>type</code> 值，就像 <code>format</code> 未被指定一样。</p>
<p>被 OAS 定义的格式:</p>
<table>
<thead>
<tr>
<th>通用名</th>
<th><a href="#dataTypes"><code>type</code></a></th>
<th><a href="#dataTypeFormat"><code>format</code></a></th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>integer</td>
<td><code>integer</code></td>
<td><code>int32</code></td>
<td>32 位有符号</td>
</tr>
<tr>
<td>long</td>
<td><code>integer</code></td>
<td><code>int64</code></td>
<td>64 位有符号</td>
</tr>
<tr>
<td>float</td>
<td><code>number</code></td>
<td><code>float</code></td>
<td></td>
</tr>
<tr>
<td>double</td>
<td><code>number</code></td>
<td><code>double</code></td>
<td></td>
</tr>
<tr>
<td>string</td>
<td><code>string</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td>byte</td>
<td><code>string</code></td>
<td><code>byte</code></td>
<td>base64 编码的支付</td>
</tr>
<tr>
<td>binary</td>
<td><code>string</code></td>
<td><code>binary</code></td>
<td>任意 8进制序列</td>
</tr>
<tr>
<td>boolean</td>
<td><code>boolean</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td>date</td>
<td><code>string</code></td>
<td><code>date</code></td>
<td>定义于 <code>full-date</code> - <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14" target="_blank" rel="noopener">RFC3339</a></td>
</tr>
<tr>
<td>dateTime</td>
<td><code>string</code></td>
<td><code>date-time</code></td>
<td>定义于 <code>date-time</code> - <a href="http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14" target="_blank" rel="noopener">RFC3339</a></td>
</tr>
<tr>
<td>password</td>
<td><code>string</code></td>
<td><code>password</code></td>
<td>告知输入界面不应该明文显示输入信息。</td>
</tr>
</tbody></table>
<h3 id="富文本格式"><a href="#富文本格式" class="headerlink" title="富文本格式"></a><a name="richText"></a>富文本格式</h3><p>整个规范中的 <code>description</code> 字段被标记为支持 CommonMark markdown 格式。<br>OpenAPI 相关的工具在支持 <a href="http://spec.commonmark.org/0.27/" target="_blank" rel="noopener">CommonMark 0.27</a> 中描述的富文本格式方面至少需要支持渲染 markerdown。相关工具为了安全考虑可以选择忽略某些 CommonMark 特性。</p>
<h3 id="URL的相对引用"><a href="#URL的相对引用" class="headerlink" title="URL的相对引用"></a><a name="relativeReferences"></a>URL的相对引用</h3><p>除非明确指定，所有 URL 类型的属性值都可以是相对地址，就如 <a href="https://tools.ietf.org/html/rfc3986#section-4.2" target="_blank" rel="noopener">RFC3986</a> 中定义的那样以 <a href="#serverObject"><code>Server Object</code></a> 作为 Base URI。</p>
<p>在 <code>$ref</code> 中的相对引用以 <a href="https://tools.ietf.org/html/draft-pbryan-zyp-json-ref-03" target="_blank" rel="noopener">JSON Reference</a> 为依据，以当前文档的 URL 作为 base URI. 同时参考 <a href="#referenceObject">Reference Object</a>。</p>
<h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a><a name="schema"></a>结构</h3><p>在接下来的叙述中，如果一个字段没有被明确的标记为 <strong>必选</strong> 或者被描述为 <strong>必须</strong> 或 <strong>应当</strong>，那么可以认为它是一个 <strong>可选</strong> 字段</p>
<h4 id="OpenAPI-对象"><a href="#OpenAPI-对象" class="headerlink" title="OpenAPI 对象"></a><a name="oasObject"></a>OpenAPI 对象</h4><p>这是<a href="#oasDocument">OpenAPI document</a>的根文档对象。</p>
<h5 id="固定字段"><a href="#固定字段" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="oasVersion"></a>openapi</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 这个字符串必须是<a href="#versions">开放API规范版本号</a>提到的符合<a href="http://semver.org/spec/v2.0.0.html" target="_blank" rel="noopener">语义化版本号规范</a>的版本号。<code>openapi</code>字段应该被工具或者客户端用来解释开放API文档。这个值和API <a href="#infoVersion"><code>info.version</code></a>字符串没有关联。</td>
</tr>
<tr>
<td><a name="oasInfo"></a>info</td>
<td align="center"><a href="#infoObject">Info 对象</a></td>
<td><strong>必选</strong>。此字段提供API相关的元数据。相关工具可能需要这个字段。</td>
</tr>
<tr>
<td><a name="oasServers"></a>servers</td>
<td align="center">[<a href="#serverObject">Server 对象</a>]</td>
<td>这是一个Server对象的数组， 提供到服务器的连接信息。如果没有提供<code>servers</code>属性或者是一个空数组，那么默认为是<a href="#serverUrl">url</a>值为<code>/</code>的 <a href="#serverObject">Server 对象</a> 。</td>
</tr>
<tr>
<td><a name="oasPaths"></a>paths</td>
<td align="center"><a href="#pathsObject">Paths 对象</a></td>
<td><strong>必选</strong>。对所提供的API有效的路径和操作。</td>
</tr>
<tr>
<td><a name="oasComponents"></a>components</td>
<td align="center"><a href="#componentsObject">Components 对象</a></td>
<td>一个包含多种结构的元素。</td>
</tr>
<tr>
<td><a name="oasSecurity"></a>security</td>
<td align="center">[<a href="#securityRequirementObject">Security Requirement 对象</a>]</td>
<td>声明API使用的安全机制。The list of values includes alternative security requirement objects that can be used. 认证一个请求时仅允许使用一种安全机制。单独的操作可以覆盖这里的定义。</td>
</tr>
<tr>
<td><a name="oasTags"></a>tags</td>
<td align="center">[<a href="#tagObject">Tag 对象</a>]</td>
<td>提供更多元数据的一系列标签，标签的顺序可以被转换工具用来决定API的顺序。不是所有被<a href="#operationObject">Operation 对象</a>用到的标签都必须被声明。没有被声明的标签可能被工具按自己的逻辑任意整理，每个标签名都应该是唯一的。</td>
</tr>
<tr>
<td><a name="oasExternalDocs"></a>externalDocs</td>
<td align="center"><a href="#externalDocumentationObject">External Documentation 对象</a></td>
<td>附加的文档。这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</td>
</tr>
</tbody></table>
<h4 id="Info-对象"><a href="#Info-对象" class="headerlink" title="Info 对象"></a><a name="infoObject"></a>Info 对象</h4><p>这个对象提供API的元数据。如果客户端需要时可能会用到这些元数据，而且可能会被呈现在编辑工具或者文档生成工具中。</p>
<h5 id="固定字段-1"><a href="#固定字段-1" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="infoTitle"></a>title</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 应用的名称。</td>
</tr>
<tr>
<td><a name="infoDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>对应用的简短描述。 <a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a> 可以被用来表示富文本呈现。</td>
</tr>
<tr>
<td><a name="infoTermsOfService"></a>termsOfService</td>
<td align="center"><code>string</code></td>
<td>指向服务条款的URL地址，必须是URL地址格式。</td>
</tr>
<tr>
<td><a name="infoContact"></a>contact</td>
<td align="center"><a href="#contactObject">Contact Object</a></td>
<td>所开放的API的联系人信息。</td>
</tr>
<tr>
<td><a name="infoLicense"></a>license</td>
<td align="center"><a href="#licenseObject">License Object</a></td>
<td>所开放的API的证书信息。</td>
</tr>
<tr>
<td><a name="infoVersion"></a>version</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. API文档的版本信息（注意：这个版本和<a href="#oasVersion">开放API规范版本</a>没有任何关系）。</td>
</tr>
</tbody></table>
<h5 id="Info-对象示例"><a href="#Info-对象示例" class="headerlink" title="Info 对象示例"></a>Info 对象示例</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;title&quot;: &quot;Sample Pet Store App&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;This is a sample server for a pet store.&quot;,</span><br><span class="line">  &quot;termsOfService&quot;: &quot;http://example.com/terms/&quot;,</span><br><span class="line">  &quot;contact&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;API Support&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;http://www.example.com/support&quot;,</span><br><span class="line">    &quot;email&quot;: &quot;support@example.com&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;license&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;Apache 2.0&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.1&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">Sample</span> <span class="string">Pet</span> <span class="string">Store</span> <span class="string">App</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">a</span> <span class="string">sample</span> <span class="string">server</span> <span class="string">for</span> <span class="string">a</span> <span class="string">pet</span> <span class="string">store.</span></span><br><span class="line"><span class="attr">termsOfService:</span> <span class="attr">http://example.com/terms/</span></span><br><span class="line"><span class="attr">contact:</span></span><br><span class="line"><span class="attr">  name:</span> <span class="string">API</span> <span class="string">Support</span></span><br><span class="line"><span class="attr">  url:</span> <span class="attr">http://www.example.com/support</span></span><br><span class="line"><span class="attr">  email:</span> <span class="string">support@example.com</span></span><br><span class="line"><span class="attr">license:</span></span><br><span class="line"><span class="attr">  name:</span> <span class="string">Apache</span> <span class="number">2.0</span></span><br><span class="line"><span class="attr">  url:</span> <span class="attr">http://www.apache.org/licenses/LICENSE-2.0.html</span></span><br><span class="line"><span class="attr">version:</span> <span class="number">1.0</span><span class="number">.1</span></span><br></pre></td></tr></table></figure>

<h4 id="Contact-对象"><a href="#Contact-对象" class="headerlink" title="Contact 对象"></a><a name="contactObject"></a>Contact 对象</h4><p>所公开的API的联系人信息</p>
<h5 id="固定字段-2"><a href="#固定字段-2" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="contactName"></a>name</td>
<td align="center"><code>string</code></td>
<td>人或组织的名称。</td>
</tr>
<tr>
<td><a name="contactUrl"></a>url</td>
<td align="center"><code>string</code></td>
<td>指向联系人信息的URL地址，必须是URL地址格式。</td>
</tr>
<tr>
<td><a name="contactEmail"></a>email</td>
<td align="center"><code>string</code></td>
<td>人或组织的email地址，必须是email地址格式。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Contact-对象示例"><a href="#Contact-对象示例" class="headerlink" title="Contact 对象示例"></a>Contact 对象示例</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"API Support"</span>,</span><br><span class="line">  <span class="attr">"url"</span>: <span class="string">"http://www.example.com/support"</span>,</span><br><span class="line">  <span class="attr">"email"</span>: <span class="string">"support@example.com"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">API</span> <span class="string">Support</span></span><br><span class="line"><span class="attr">url:</span> <span class="attr">http://www.example.com/support</span></span><br><span class="line"><span class="attr">email:</span> <span class="string">support@example.com</span></span><br></pre></td></tr></table></figure>

<h4 id="License-对象"><a href="#License-对象" class="headerlink" title="License 对象"></a><a name="licenseObject"></a>License 对象</h4><p>公开API的证书信息。</p>
<h5 id="固定字段-3"><a href="#固定字段-3" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="licenseName"></a>name</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. API的证书名。</td>
</tr>
<tr>
<td><a name="licenseUrl"></a>url</td>
<td align="center"><code>string</code></td>
<td>指向API所使用的证书的URL地址，必须是URL地址格式。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="License-对象示例"><a href="#License-对象示例" class="headerlink" title="License 对象示例"></a>License 对象示例</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"Apache 2.0"</span>,</span><br><span class="line">  <span class="attr">"url"</span>: <span class="string">"http://www.apache.org/licenses/LICENSE-2.0.html"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Apache</span> <span class="number">2.0</span></span><br><span class="line"><span class="attr">url:</span> <span class="attr">http://www.apache.org/licenses/LICENSE-2.0.html</span></span><br></pre></td></tr></table></figure>

<h4 id="Server-对象"><a href="#Server-对象" class="headerlink" title="Server 对象"></a><a name="serverObject"></a>Server 对象</h4><p>表示一个服务器的对象。</p>
<h5 id="固定字段-4"><a href="#固定字段-4" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="serverUrl"></a>url</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 指向目标主机的URL地址。这个URL地址支持服务器变量而且可能是相对路径，表示主机路径是相对于本文档所在的路径。当一个变量被命名为类似<code>{</code>brackets<code>}</code>时需要替换此变量。</td>
</tr>
<tr>
<td><a name="serverDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>一个可选的字符串，用来描述此URL地址。<a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="serverVariables"></a>variables</td>
<td align="center">Map[<code>string</code>, <a href="#serverVariableObject">Server Variable Object</a>]</td>
<td>一组变量和值的映射，这些值被用来替换服务器URL地址内的模板参数。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Server-对象示例"><a href="#Server-对象示例" class="headerlink" title="Server 对象示例"></a>Server 对象示例</h5><p>单个服务器可以这样描述：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"url"</span>: <span class="string">"https://development.gigantic-server.com/v1"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"Development server"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="attr">https://development.gigantic-server.com/v1</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">Development</span> <span class="string">server</span></span><br></pre></td></tr></table></figure>

<p>以下内容表示的是有多个服务器时应该如何描述，比如OpenAPI 对象的<a href="#oasServers"><code>servers</code></a>：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"servers"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://development.gigantic-server.com/v1"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Development server"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://staging.gigantic-server.com/v1"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Staging server"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://api.gigantic-server.com/v1"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Production server"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">servers:</span></span><br><span class="line"><span class="attr">- url:</span> <span class="attr">https://development.gigantic-server.com/v1</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">Development</span> <span class="string">server</span></span><br><span class="line"><span class="attr">- url:</span> <span class="attr">https://staging.gigantic-server.com/v1</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">Staging</span> <span class="string">server</span></span><br><span class="line"><span class="attr">- url:</span> <span class="attr">https://api.gigantic-server.com/v1</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">Production</span> <span class="string">server</span></span><br></pre></td></tr></table></figure>

<p>以下内容展示了如何使用变量来配置服务器：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"servers"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://&#123;username&#125;.gigantic-server.com:&#123;port&#125;/&#123;basePath&#125;"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"The production API server"</span>,</span><br><span class="line">      <span class="attr">"variables"</span>: &#123;</span><br><span class="line">        <span class="attr">"username"</span>: &#123;</span><br><span class="line">          <span class="attr">"default"</span>: <span class="string">"demo"</span>,</span><br><span class="line">          <span class="attr">"description"</span>: <span class="string">"this value is assigned by the service provider, in this example `gigantic-server.com`"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"port"</span>: &#123;</span><br><span class="line">          <span class="attr">"enum"</span>: [</span><br><span class="line">            <span class="string">"8443"</span>,</span><br><span class="line">            <span class="string">"443"</span></span><br><span class="line">          ],</span><br><span class="line">          <span class="attr">"default"</span>: <span class="string">"8443"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"basePath"</span>: &#123;</span><br><span class="line">          <span class="attr">"default"</span>: <span class="string">"v2"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">servers:</span></span><br><span class="line"><span class="attr">- url:</span> <span class="attr">https://&#123;username&#125;.gigantic-server.com:&#123;port&#125;/&#123;basePath&#125;</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">The</span> <span class="string">production</span> <span class="string">API</span> <span class="string">server</span></span><br><span class="line"><span class="attr">  variables:</span></span><br><span class="line"><span class="attr">    username:</span></span><br><span class="line">      <span class="comment"># note! no enum here means it is an open value</span></span><br><span class="line"><span class="attr">      default:</span> <span class="string">demo</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">this</span> <span class="string">value</span> <span class="string">is</span> <span class="string">assigned</span> <span class="string">by</span> <span class="string">the</span> <span class="string">service</span> <span class="string">provider,</span> <span class="string">in</span> <span class="string">this</span> <span class="string">example</span> <span class="string">`gigantic-server.com`</span></span><br><span class="line"><span class="attr">    port:</span></span><br><span class="line"><span class="attr">      enum:</span></span><br><span class="line"><span class="bullet">        -</span> <span class="string">'8443'</span></span><br><span class="line"><span class="bullet">        -</span> <span class="string">'443'</span></span><br><span class="line"><span class="attr">      default:</span> <span class="string">'8443'</span></span><br><span class="line"><span class="attr">    basePath:</span></span><br><span class="line">      <span class="comment"># open meaning there is the opportunity to use special base paths as assigned by the provider, default is `v2`</span></span><br><span class="line"><span class="attr">      default:</span> <span class="string">v2</span></span><br></pre></td></tr></table></figure>

<h4 id="Server-Variable-对象"><a href="#Server-Variable-对象" class="headerlink" title="Server Variable 对象"></a><a name="serverVariableObject"></a>Server Variable 对象</h4><p>表示可用于服务器URL地址模板变量替换的对象。</p>
<h5 id="固定字段-5"><a href="#固定字段-5" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="serverVariableEnum"></a>enum</td>
<td align="center">[<code>string</code>]</td>
<td>一组可枚举字符串值，当可替换选项只能设置为固定的某些值时使用。</td>
</tr>
<tr>
<td><a name="serverVariableDefault"></a>default</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 当可替换的值没有被使用者指定时使用的默认值。不像<a href="#schemaObject">Schema Object’s</a>的 <code>default</code> ，这个值必须由使用者提供。</td>
</tr>
<tr>
<td><a name="serverVariableDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>对服务器变量的可选的描述。<a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h4 id="Components-对象"><a href="#Components-对象" class="headerlink" title="Components 对象"></a><a name="componentsObject"></a>Components 对象</h4><p>包含开放API规范固定的各种可重用组件。当没有被其他对象引用时，在这里定义定义的组件不会产生任何效果。</p>
<h5 id="固定字段-6"><a href="#固定字段-6" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="left">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="componentsSchemas"></a> schemas</td>
<td align="left">Map[<code>string</code>, <a href="#schemaObject">Schema Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>定义可重用的 <a href="#schemaObject">Schema 对象</a> 的对象。</td>
</tr>
<tr>
<td><a name="componentsResponses"></a> responses</td>
<td align="left">Map[<code>string</code>, <a href="#responseObject">Response Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>定义可重用的 <a href="#responseObject">Response 对象</a> 的对象。</td>
</tr>
<tr>
<td><a name="componentsParameters"></a> parameters</td>
<td align="left">Map[<code>string</code>, <a href="#parameterObject">Parameter Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>定义可重用的 <a href="#parameterObject">Parameter 对象</a> 的对象。</td>
</tr>
<tr>
<td><a name="componentsExamples"></a> examples</td>
<td align="left">Map[<code>string</code>, <a href="#exampleObject">Example Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>定义可重用的 <a href="#exampleObject">Example 对象</a> 的对象。</td>
</tr>
<tr>
<td><a name="componentsRequestBodies"></a> requestBodies</td>
<td align="left">Map[<code>string</code>, <a href="#requestBodyObject">Request Body Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>定义可重用的 <a href="#requestBodyObject">Request Body 对象</a> 的对象。</td>
</tr>
<tr>
<td><a name="componentsHeaders"></a> headers</td>
<td align="left">Map[<code>string</code>, <a href="#headerObject">Header Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>定义可重用的 <a href="#headerObject">Header 对象</a> 的对象。</td>
</tr>
<tr>
<td><a name="componentsSecuritySchemes"></a> securitySchemes</td>
<td align="left">Map[<code>string</code>, <a href="#securitySchemeObject">Security Scheme Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>定义可重用的 <a href="#securitySchemeObject">Security Scheme 对象</a> 的对象。</td>
</tr>
<tr>
<td><a name="componentsLinks"></a> links</td>
<td align="left">Map[<code>string</code>, <a href="#linkObject">Link Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>定义可重用的 <a href="#linkObject">Link 对象</a> 的对象。</td>
</tr>
<tr>
<td><a name="componentsCallbacks"></a> callbacks</td>
<td align="left">Map[<code>string</code>, <a href="#callbackObject">Callback Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>定义可重用的 <a href="#callbackObject">Callback 对象</a> 的对象。</td>
</tr>
</tbody></table>
<p>这个对象可能会被 <a href="#specificationExtensions">规范扩展</a> 扩展。</p>
<p>上面定义的所有固定字段的值都是对象，对象包含的key的命名必须满足正则表达式： <code>^[a-zA-Z0-9\.\-_]+$</code>。</p>
<p>字段名示例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">User</span><br><span class="line">User_1</span><br><span class="line">User_Name</span><br><span class="line">user-name</span><br><span class="line">my.org.User</span><br></pre></td></tr></table></figure>

<h5 id="Components-对象示例"><a href="#Components-对象示例" class="headerlink" title="Components 对象示例"></a>Components 对象示例</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">"components": &#123;</span><br><span class="line">  "schemas": &#123;</span><br><span class="line">    "Category": &#123;</span><br><span class="line">      "type": "object",</span><br><span class="line">      "properties": &#123;</span><br><span class="line">        "id": &#123;</span><br><span class="line">          "type": "integer",</span><br><span class="line">          "format": "int64"</span><br><span class="line">        &#125;,</span><br><span class="line">        "name": &#123;</span><br><span class="line">          "type": "string"</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    "Tag": &#123;</span><br><span class="line">      "type": "object",</span><br><span class="line">      "properties": &#123;</span><br><span class="line">        "id": &#123;</span><br><span class="line">          "type": "integer",</span><br><span class="line">          "format": "int64"</span><br><span class="line">        &#125;,</span><br><span class="line">        "name": &#123;</span><br><span class="line">          "type": "string"</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  "parameters": &#123;</span><br><span class="line">    "skipParam": &#123;</span><br><span class="line">      "name": "skip",</span><br><span class="line">      "in": "query",</span><br><span class="line">      "description": "number of items to skip",</span><br><span class="line">      "required": true,</span><br><span class="line">      "schema": &#123;</span><br><span class="line">        "type": "integer",</span><br><span class="line">        "format": "int32"</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    "limitParam": &#123;</span><br><span class="line">      "name": "limit",</span><br><span class="line">      "in": "query",</span><br><span class="line">      "description": "max records to return",</span><br><span class="line">      "required": true,</span><br><span class="line">      "schema" : &#123;</span><br><span class="line">        "type": "integer",</span><br><span class="line">        "format": "int32"</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  "responses": &#123;</span><br><span class="line">    "NotFound": &#123;</span><br><span class="line">      "description": "Entity not found."</span><br><span class="line">    &#125;,</span><br><span class="line">    "IllegalInput": &#123;</span><br><span class="line">      "description": "Illegal input for operation."</span><br><span class="line">    &#125;,</span><br><span class="line">    "GeneralError": &#123;</span><br><span class="line">      "description": "General Error",</span><br><span class="line">      "content": &#123;</span><br><span class="line">        "application/json": &#123;</span><br><span class="line">          "schema": &#123;</span><br><span class="line">            "$ref": "#/components/schemas/GeneralError"</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  "securitySchemes": &#123;</span><br><span class="line">    "api_key": &#123;</span><br><span class="line">      "type": "apiKey",</span><br><span class="line">      "name": "api_key",</span><br><span class="line">      "in": "header"</span><br><span class="line">    &#125;,</span><br><span class="line">    "petstore_auth": &#123;</span><br><span class="line">      "type": "oauth2",</span><br><span class="line">      "flows": &#123;</span><br><span class="line">        "implicit": &#123;</span><br><span class="line">          "authorizationUrl": "http://example.org/api/oauth/dialog",</span><br><span class="line">          "scopes": &#123;</span><br><span class="line">            "write:pets": "modify pets in your account",</span><br><span class="line">            "read:pets": "read your pets"</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">components:</span></span><br><span class="line"><span class="attr">  schemas:</span></span><br><span class="line"><span class="attr">    Category:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">      properties:</span></span><br><span class="line"><span class="attr">        id:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">          format:</span> <span class="string">int64</span></span><br><span class="line"><span class="attr">        name:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    Tag:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">      properties:</span></span><br><span class="line"><span class="attr">        id:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">          format:</span> <span class="string">int64</span></span><br><span class="line"><span class="attr">        name:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">  parameters:</span></span><br><span class="line"><span class="attr">    skipParam:</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">skip</span></span><br><span class="line"><span class="attr">      in:</span> <span class="string">query</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">number</span> <span class="string">of</span> <span class="string">items</span> <span class="string">to</span> <span class="string">skip</span></span><br><span class="line"><span class="attr">      required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">        format:</span> <span class="string">int32</span></span><br><span class="line"><span class="attr">    limitParam:</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">limit</span></span><br><span class="line"><span class="attr">      in:</span> <span class="string">query</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">max</span> <span class="string">records</span> <span class="string">to</span> <span class="string">return</span></span><br><span class="line"><span class="attr">      required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">        format:</span> <span class="string">int32</span></span><br><span class="line"><span class="attr">  responses:</span></span><br><span class="line"><span class="attr">    NotFound:</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">Entity</span> <span class="string">not</span> <span class="string">found.</span></span><br><span class="line"><span class="attr">    IllegalInput:</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">Illegal</span> <span class="string">input</span> <span class="string">for</span> <span class="string">operation.</span></span><br><span class="line"><span class="attr">    GeneralError:</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">General</span> <span class="string">Error</span></span><br><span class="line"><span class="attr">      content:</span></span><br><span class="line">        <span class="string">application/json:</span></span><br><span class="line"><span class="attr">          schema:</span></span><br><span class="line">            <span class="string">$ref:</span> <span class="string">'#/components/schemas/GeneralError'</span></span><br><span class="line"><span class="attr">  securitySchemes:</span></span><br><span class="line"><span class="attr">    api_key:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">apiKey</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">api_key</span></span><br><span class="line"><span class="attr">      in:</span> <span class="string">header</span></span><br><span class="line"><span class="attr">    petstore_auth:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">oauth2</span></span><br><span class="line"><span class="attr">      flows:</span></span><br><span class="line"><span class="attr">        implicit:</span></span><br><span class="line"><span class="attr">          authorizationUrl:</span> <span class="attr">http://example.org/api/oauth/dialog</span></span><br><span class="line"><span class="attr">          scopes:</span></span><br><span class="line"><span class="attr">            write:</span><span class="attr">pets:</span> <span class="string">modify</span> <span class="string">pets</span> <span class="string">in</span> <span class="string">your</span> <span class="string">account</span></span><br><span class="line"><span class="attr">            read:</span><span class="attr">pets:</span> <span class="string">read</span> <span class="string">your</span> <span class="string">pets</span></span><br></pre></td></tr></table></figure>

<h4 id="Paths-对象"><a href="#Paths-对象" class="headerlink" title="Paths 对象"></a><a name="pathsObject"></a>Paths 对象</h4><p>定义各个的端点和操作的相对路径。这里指定的路径会和 <a href="#serverObject"><code>Server 对象</code></a> 内指定的URL地址组成完整的URL地址，路径可以为空，这依赖于 <a href="#securityFiltering">ACL constraints</a> 的设置。</p>
<h5 id="模式字段"><a href="#模式字段" class="headerlink" title="模式字段"></a>模式字段</h5><table>
<thead>
<tr>
<th>字段名模式</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="pathsPath"></a>/{path}</td>
<td align="center"><a href="#pathItemObject">Path Item 对象</a></td>
<td>到各个端点的相对路径，路径必须以<code>/</code>打头，这个路径会被<strong>直接连接</strong>到 <a href="#serverObject"><code>Server 对象</code></a> 的<code>url</code>字段以组成完整URL地址（不会考虑是否是相对路径）。这里可以使用 <a href="#pathTemplating">Path templating</a> ，当做URL地址匹配时，不带路径参数的路径会被优先匹配。应该避免定义多个具有相同路径层级但是路径参数名不同的路径，因为他们是等价的。当匹配出现歧义时，由使用的工具自行决定使用那个路径。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="路径模板匹配"><a href="#路径模板匹配" class="headerlink" title="路径模板匹配"></a>路径模板匹配</h5><p>假设有以下路径，明确定义的路径 <code>/pets/mine</code> 会被优先匹配：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/pets/&#123;petId&#125;</span><br><span class="line">/pets/mine</span><br></pre></td></tr></table></figure>

<p>以下路径被认为是等价的而且是无效的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/pets/&#123;petId&#125;</span><br><span class="line">/pets/&#123;name&#125;</span><br></pre></td></tr></table></figure>

<p>以下路径会产生歧义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/&#123;entity&#125;/me</span><br><span class="line">/books/&#123;id&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Paths-对象示例"><a href="#Paths-对象示例" class="headerlink" title="Paths 对象示例"></a>Paths 对象示例</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"/pets"</span>: &#123;</span><br><span class="line">    <span class="attr">"get"</span>: &#123;</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Returns all pets from the system that the user has access to"</span>,</span><br><span class="line">      <span class="attr">"responses"</span>: &#123;</span><br><span class="line">        <span class="attr">"200"</span>: &#123;</span><br><span class="line">          <span class="attr">"description"</span>: <span class="string">"A list of pets."</span>,</span><br><span class="line">          <span class="attr">"content"</span>: &#123;</span><br><span class="line">            <span class="attr">"application/json"</span>: &#123;</span><br><span class="line">              <span class="attr">"schema"</span>: &#123;</span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">                <span class="attr">"items"</span>: &#123;</span><br><span class="line">                  <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/pet"</span></span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/pets:</span></span><br><span class="line"><span class="attr">  get:</span></span><br><span class="line"><span class="attr">    description:</span> <span class="string">Returns</span> <span class="string">all</span> <span class="string">pets</span> <span class="string">from</span> <span class="string">the</span> <span class="string">system</span> <span class="string">that</span> <span class="string">the</span> <span class="string">user</span> <span class="string">has</span> <span class="string">access</span> <span class="string">to</span></span><br><span class="line"><span class="attr">    responses:</span></span><br><span class="line">      <span class="string">'200'</span><span class="string">:</span></span><br><span class="line"><span class="attr">        description:</span> <span class="string">A</span> <span class="string">list</span> <span class="string">of</span> <span class="string">pets.</span></span><br><span class="line"><span class="attr">        content:</span></span><br><span class="line">          <span class="string">application/json:</span></span><br><span class="line"><span class="attr">            schema:</span></span><br><span class="line"><span class="attr">              type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">              items:</span></span><br><span class="line">                <span class="string">$ref:</span> <span class="string">'#/components/schemas/pet'</span></span><br></pre></td></tr></table></figure>

<h4 id="Path-Item-对象"><a href="#Path-Item-对象" class="headerlink" title="Path Item 对象"></a><a name="pathItemObject"></a>Path Item 对象</h4><p>描述对一个路径可执行的有效操作。依赖与 <a href="#securityFiltering">ACL constraints</a> 的设置，一个Path Item可以是一个空对象，文档的读者仍然可以看到这个路径，但是他们将无法了解到对这个路径可用的任何操作和参数。</p>
<h5 id="固定字段-7"><a href="#固定字段-7" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="pathItemRef"></a>$ref</td>
<td align="center"><code>string</code></td>
<td>指定对此路径的外部定义的引用，引用的格式必须符合 <a href="#pathItemObject">Path Item 对象</a> 的格式，如果引用的外部定义和此对象内的其他定义有冲突，该如何处理冲突尚未被定义。</td>
</tr>
<tr>
<td><a name="pathItemSummary"></a>summary</td>
<td align="center"><code>string</code></td>
<td>一个可选的简要总结字符串，用来描述此路径内包含的所有操作。</td>
</tr>
<tr>
<td><a name="pathItemDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>一个可选的详细说明字符串，用于描述此路径包含的所有操作。 <a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="pathItemGet"></a>get</td>
<td align="center"><a href="#operationObject">Operation 对象</a></td>
<td>定义适用于此路径的 GET 操作。</td>
</tr>
<tr>
<td><a name="pathItemPut"></a>put</td>
<td align="center"><a href="#operationObject">Operation 对象</a></td>
<td>定义适用于此路径的 PUT 操作。</td>
</tr>
<tr>
<td><a name="pathItemPost"></a>post</td>
<td align="center"><a href="#operationObject">Operation 对象</a></td>
<td>定义适用于此路径的 POST 操作.</td>
</tr>
<tr>
<td><a name="pathItemDelete"></a>delete</td>
<td align="center"><a href="#operationObject">Operation 对象</a></td>
<td>定义适用于此路径的 DELETE 操作。</td>
</tr>
<tr>
<td><a name="pathItemOptions"></a>options</td>
<td align="center"><a href="#operationObject">Operation 对象</a></td>
<td>定义适用于此路径的 OPTIONS 操作。</td>
</tr>
<tr>
<td><a name="pathItemHead"></a>head</td>
<td align="center"><a href="#operationObject">Operation 对象</a></td>
<td>定义适用于此路径的 HEAD 操作。</td>
</tr>
<tr>
<td><a name="pathItemPatch"></a>patch</td>
<td align="center"><a href="#operationObject">Operation 对象</a></td>
<td>定义适用于此路径的 PATCH 操作。</td>
</tr>
<tr>
<td><a name="pathItemTrace"></a>trace</td>
<td align="center"><a href="#operationObject">Operation 对象</a></td>
<td>定义适用于此路径的 TRACE 操作。</td>
</tr>
<tr>
<td><a name="pathItemServers"></a>servers</td>
<td align="center">[<a href="#serverObject">Server 对象</a>]</td>
<td>一个可用于此路径所有操作的替代根<code>server</code>的数组定义。</td>
</tr>
<tr>
<td><a name="pathItemParameters"></a>parameters</td>
<td align="center">[<a href="#parameterObject">Parameter 对象</a> | <a href="#referenceObject">Reference 对象</a>]</td>
<td>一个可用于此路径下所有操作的参数的列表。这些参数可以被具体的操作定义覆盖，但是不能被移除。这个列表禁止包含重复的参数，一个唯一的参数名由 <a href="#parameterName">name</a> 和 <a href="#parameterIn">location</a> 的组合来定义。这个列表可以使用 <a href="#referenceObject">Reference</a> 格式引用定义在 <a href="#componentsParameters">OpenAPI 对象 components/parameters</a> 内的参数。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Path-Item-对象示例"><a href="#Path-Item-对象示例" class="headerlink" title="Path Item 对象示例"></a>Path Item 对象示例</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"get"</span>: &#123;</span><br><span class="line">    <span class="attr">"description"</span>: <span class="string">"Returns pets based on ID"</span>,</span><br><span class="line">    <span class="attr">"summary"</span>: <span class="string">"Find pets by ID"</span>,</span><br><span class="line">    <span class="attr">"operationId"</span>: <span class="string">"getPetsById"</span>,</span><br><span class="line">    <span class="attr">"responses"</span>: &#123;</span><br><span class="line">      <span class="attr">"200"</span>: &#123;</span><br><span class="line">        <span class="attr">"description"</span>: <span class="string">"pet response"</span>,</span><br><span class="line">        <span class="attr">"content"</span>: &#123;</span><br><span class="line">          <span class="attr">"*/*"</span>: &#123;</span><br><span class="line">            <span class="attr">"schema"</span>: &#123;</span><br><span class="line">              <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">              <span class="attr">"items"</span>: &#123;</span><br><span class="line">                <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/Pet"</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"default"</span>: &#123;</span><br><span class="line">        <span class="attr">"description"</span>: <span class="string">"error payload"</span>,</span><br><span class="line">        <span class="attr">"content"</span>: &#123;</span><br><span class="line">          <span class="attr">"text/html"</span>: &#123;</span><br><span class="line">            <span class="attr">"schema"</span>: &#123;</span><br><span class="line">              <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/ErrorModel"</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"parameters"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"id"</span>,</span><br><span class="line">      <span class="attr">"in"</span>: <span class="string">"path"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"ID of pet to use"</span>,</span><br><span class="line">      <span class="attr">"required"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">        <span class="attr">"items"</span>: &#123;</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"style"</span>: <span class="string">"simple"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">get:</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">Returns</span> <span class="string">pets</span> <span class="string">based</span> <span class="string">on</span> <span class="string">ID</span></span><br><span class="line"><span class="attr">  summary:</span> <span class="string">Find</span> <span class="string">pets</span> <span class="string">by</span> <span class="string">ID</span></span><br><span class="line"><span class="attr">  operationId:</span> <span class="string">getPetsById</span></span><br><span class="line"><span class="attr">  responses:</span></span><br><span class="line">    <span class="string">'200'</span><span class="string">:</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">pet</span> <span class="string">response</span></span><br><span class="line"><span class="attr">      content:</span></span><br><span class="line">        <span class="string">'*/*'</span> <span class="string">:</span></span><br><span class="line"><span class="attr">          schema:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">            items:</span></span><br><span class="line">              <span class="string">$ref:</span> <span class="string">'#/components/schemas/Pet'</span></span><br><span class="line"><span class="attr">    default:</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">error</span> <span class="string">payload</span></span><br><span class="line"><span class="attr">      content:</span></span><br><span class="line">        <span class="string">'text/html'</span><span class="string">:</span></span><br><span class="line"><span class="attr">          schema:</span></span><br><span class="line">            <span class="string">$ref:</span> <span class="string">'#/components/schemas/ErrorModel'</span></span><br><span class="line"><span class="attr">parameters:</span></span><br><span class="line"><span class="attr">- name:</span> <span class="string">id</span></span><br><span class="line"><span class="attr">  in:</span> <span class="string">path</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">ID</span> <span class="string">of</span> <span class="string">pet</span> <span class="string">to</span> <span class="string">use</span></span><br><span class="line"><span class="attr">  required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  schema:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">    style:</span> <span class="string">simple</span></span><br><span class="line"><span class="attr">    items:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">string</span></span><br></pre></td></tr></table></figure>

<h4 id="Operation-Object"><a href="#Operation-Object" class="headerlink" title="Operation Object"></a><a name="operationObject"></a>Operation Object</h4><p>描述对路径的某个操作。</p>
<h5 id="固定字段-8"><a href="#固定字段-8" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="operationTags"></a>tags</td>
<td align="center">[<code>string</code>]</td>
<td>用于控制API文档的标签列表，标签可以用于在逻辑上分组对资源的操作或作为其它用途的先决条件。</td>
</tr>
<tr>
<td><a name="operationSummary"></a>summary</td>
<td align="center"><code>string</code></td>
<td>对此操作行为的简短描述。</td>
</tr>
<tr>
<td><a name="operationDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>对此操作行为的详细解释。<a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="operationExternalDocs"></a>externalDocs</td>
<td align="center"><a href="#externalDocumentationObject">External Documentation 对象</a></td>
<td>附加的外部文档。</td>
</tr>
<tr>
<td><a name="operationId"></a>operationId</td>
<td align="center"><code>string</code></td>
<td>用于标识此操作的唯一字符串，这个id在此API内包含的所有操作中必须是唯一的。相关的工具和库可能会使用此operationId来唯一的标识一个操作，因此推荐在命名时符合一般的编程命名习惯。</td>
</tr>
<tr>
<td><a name="operationParameters"></a>parameters</td>
<td align="center">[<a href="#parameterObject">Parameter 对象</a> | <a href="#referenceObject">Reference 对象</a>]</td>
<td>定义可用于此操作的参数列表，如果一个同名的参数已经存在于 <a href="#pathItemParameters">Path Item</a>，那么这里的定义会覆盖它但是不能移除上面的定义。这个列表不允许包含重复的参数，参数的唯一性由 <a href="#parameterName">name</a> 和  <a href="#parameterIn">location</a> 的组合来确定。这个列表可以使用 <a href="#referenceObject">Reference 对象</a> 来连接定义于 <a href="#componentsParameters">OpenAPI 对象 components/parameters</a> 的参数。</td>
</tr>
<tr>
<td><a name="operationRequestBody"></a>requestBody</td>
<td align="center"><a href="#requestBodyObject">Request Body 对象</a> | <a href="#referenceObject">Reference 对象</a></td>
<td>可用于此操作的请求体。<code>requestBody</code> 只能被用于HTTP 1.1 规范 <a href="https://tools.ietf.org/html/rfc7231#section-4.3.1" target="_blank" rel="noopener">RFC7231</a> 中明确定义了包含请求体的请求方法，在其他没有明确定义的请求方法中，<code>requestBody</code>的消费者应该应该忽略<code>requestBody</code>。</td>
</tr>
<tr>
<td><a name="operationResponses"></a>responses</td>
<td align="center"><a href="#responsesObject">Responses 对象</a></td>
<td><strong>必选</strong>. 定义执行此操作后的可能的响应值列表。</td>
</tr>
<tr>
<td><a name="operationCallbacks"></a>callbacks</td>
<td align="center">Map[<code>string</code>, <a href="#callbackObject">Callback 对象</a> | <a href="#referenceObject">Reference 对象</a>]</td>
<td>一组相对于父操作的可能出现的回调映射，A map of possible out-of band callbacks related to the parent operation. 映射中的每一个键都唯一的映射一个 <a href="#callbackObject">Callback 对象</a>， that describes a request that may be initiated by the API provider and the expected responses. The key value used to identify the callback object is an expression, evaluated at runtime, that identifies a URL to use for the callback operation.</td>
</tr>
<tr>
<td><a name="operationDeprecated"></a>deprecated</td>
<td align="center"><code>boolean</code></td>
<td>声明此操作已经被废弃，使用者应该尽量避免使用此操作，默认的值是 <code>false</code>。</td>
</tr>
<tr>
<td><a name="operationSecurity"></a>security</td>
<td align="center">[<a href="#securityRequirementObject">Security Requirement 对象</a>]</td>
<td>声明那种安全机制可用于此操作。这个列表可以包含多种可用于此操作的安全需求对象，但是在认证一个请求时应该仅使用其中一种。这里的定义会覆盖任何在顶层 <a href="#oasSecurity"><code>security</code></a> 中的安全声明，因此可以声明一个空数组来变相的移除顶层的安全声明。</td>
</tr>
<tr>
<td><a name="operationServers"></a>servers</td>
<td align="center">[<a href="#serverObject">Server 对象</a>]</td>
<td>一个可用于此操作的额外的 <code>server</code> 数组，这里的定义会覆盖 Path Item 对象 或 顶层的定义。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Operation-对象示例"><a href="#Operation-对象示例" class="headerlink" title="Operation 对象示例"></a>Operation 对象示例</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"tags"</span>: [</span><br><span class="line">    <span class="string">"pet"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"summary"</span>: <span class="string">"Updates a pet in the store with form data"</span>,</span><br><span class="line">  <span class="attr">"operationId"</span>: <span class="string">"updatePetWithForm"</span>,</span><br><span class="line">  <span class="attr">"parameters"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"petId"</span>,</span><br><span class="line">      <span class="attr">"in"</span>: <span class="string">"path"</span>,</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"ID of pet that needs to be updated"</span>,</span><br><span class="line">      <span class="attr">"required"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"requestBody"</span>: &#123;</span><br><span class="line">    <span class="attr">"content"</span>: &#123;</span><br><span class="line">      <span class="attr">"application/x-www-form-urlencoded"</span>: &#123;</span><br><span class="line">        <span class="attr">"schema"</span>: &#123;</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">           <span class="attr">"properties"</span>: &#123;</span><br><span class="line">              <span class="attr">"name"</span>: &#123;</span><br><span class="line">                <span class="attr">"description"</span>: <span class="string">"Updated name of the pet"</span>,</span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="attr">"status"</span>: &#123;</span><br><span class="line">                <span class="attr">"description"</span>: <span class="string">"Updated status of the pet"</span>,</span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">             &#125;</span><br><span class="line">           &#125;,</span><br><span class="line">        <span class="attr">"required"</span>: [<span class="string">"status"</span>]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"responses"</span>: &#123;</span><br><span class="line">    <span class="attr">"200"</span>: &#123;</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Pet updated."</span>,</span><br><span class="line">      <span class="attr">"content"</span>: &#123;</span><br><span class="line">        <span class="attr">"application/json"</span>: &#123;&#125;,</span><br><span class="line">        <span class="attr">"application/xml"</span>: &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"405"</span>: &#123;</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"Invalid input"</span>,</span><br><span class="line">      <span class="attr">"content"</span>: &#123;</span><br><span class="line">        <span class="attr">"application/json"</span>: &#123;&#125;,</span><br><span class="line">        <span class="attr">"application/xml"</span>: &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"security"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"petstore_auth"</span>: [</span><br><span class="line">        <span class="string">"write:pets"</span>,</span><br><span class="line">        <span class="string">"read:pets"</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">pet</span></span><br><span class="line"><span class="attr">summary:</span> <span class="string">Updates</span> <span class="string">a</span> <span class="string">pet</span> <span class="string">in</span> <span class="string">the</span> <span class="string">store</span> <span class="string">with</span> <span class="string">form</span> <span class="string">data</span></span><br><span class="line"><span class="attr">operationId:</span> <span class="string">updatePetWithForm</span></span><br><span class="line"><span class="attr">parameters:</span></span><br><span class="line"><span class="attr">- name:</span> <span class="string">petId</span></span><br><span class="line"><span class="attr">  in:</span> <span class="string">path</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">ID</span> <span class="string">of</span> <span class="string">pet</span> <span class="string">that</span> <span class="string">needs</span> <span class="string">to</span> <span class="string">be</span> <span class="string">updated</span></span><br><span class="line"><span class="attr">  required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  schema:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">requestBody:</span></span><br><span class="line"><span class="attr">  content:</span></span><br><span class="line">    <span class="string">'application/x-www-form-urlencoded'</span><span class="string">:</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">       properties:</span></span><br><span class="line"><span class="attr">          name:</span></span><br><span class="line"><span class="attr">            description:</span> <span class="string">Updated</span> <span class="string">name</span> <span class="string">of</span> <span class="string">the</span> <span class="string">pet</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">          status:</span></span><br><span class="line"><span class="attr">            description:</span> <span class="string">Updated</span> <span class="string">status</span> <span class="string">of</span> <span class="string">the</span> <span class="string">pet</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">       required:</span></span><br><span class="line"><span class="bullet">         -</span> <span class="string">status</span></span><br><span class="line"><span class="attr">responses:</span></span><br><span class="line">  <span class="string">'200'</span><span class="string">:</span></span><br><span class="line"><span class="attr">    description:</span> <span class="string">Pet</span> <span class="string">updated.</span></span><br><span class="line"><span class="attr">    content:</span></span><br><span class="line">      <span class="string">'application/json'</span><span class="string">:</span> <span class="string">&#123;&#125;</span></span><br><span class="line">      <span class="string">'application/xml'</span><span class="string">:</span> <span class="string">&#123;&#125;</span></span><br><span class="line">  <span class="string">'405'</span><span class="string">:</span></span><br><span class="line"><span class="attr">    description:</span> <span class="string">Invalid</span> <span class="string">input</span></span><br><span class="line"><span class="attr">    content:</span></span><br><span class="line">      <span class="string">'application/json'</span><span class="string">:</span> <span class="string">&#123;&#125;</span></span><br><span class="line">      <span class="string">'application/xml'</span><span class="string">:</span> <span class="string">&#123;&#125;</span></span><br><span class="line"><span class="attr">security:</span></span><br><span class="line"><span class="attr">- petstore_auth:</span></span><br><span class="line"><span class="attr">  - write:</span><span class="string">pets</span></span><br><span class="line"><span class="attr">  - read:</span><span class="string">pets</span></span><br></pre></td></tr></table></figure>

<h4 id="External-Documentation-对象"><a href="#External-Documentation-对象" class="headerlink" title="External Documentation 对象"></a><a name="externalDocumentationObject"></a>External Documentation 对象</h4><p>允许引用外部资源来扩展文档。</p>
<h5 id="固定字段-9"><a href="#固定字段-9" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="externalDocDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>对引用的外部文档的简短描述。<a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="externalDocUrl"></a>url</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 外部文档的URL地址，这个值必须是URL地址格式。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="External-Documentation-对象示例"><a href="#External-Documentation-对象示例" class="headerlink" title="External Documentation 对象示例"></a>External Documentation 对象示例</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"Find more info here"</span>,</span><br><span class="line">  <span class="attr">"url"</span>: <span class="string">"https://example.com"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">description:</span> <span class="string">Find</span> <span class="string">more</span> <span class="string">info</span> <span class="string">here</span></span><br><span class="line"><span class="attr">url:</span> <span class="attr">https://example.com</span></span><br></pre></td></tr></table></figure>

<h4 id="Parameter-Object"><a href="#Parameter-Object" class="headerlink" title="Parameter Object"></a><a name="parameterObject"></a>Parameter Object</h4><p>描述一个操作参数。</p>
<p>一个参数的唯一性由 <a href="#parameterName">name</a> 和 <a href="#parameterIn">location</a> 的组合来确定。</p>
<h5 id="参数位置"><a href="#参数位置" class="headerlink" title="参数位置"></a>参数位置</h5><p>有4种可能的参数位置值可用于<code>in</code>字段：</p>
<ul>
<li>path - 与 <a href="#pathTemplating">Path Templating</a> 一起使用，当参数的值是URL操作路径的一部分时可以使用，但是不包含主机地址或基础路径。比如在路径  <code>/items/{itemId}</code> 中，路径参数是 <code>itemId</code>。</li>
<li>query - 追加在URL地址之后的参数，比如 <code>/items?id=###</code> 中，查询参数是 <code>id</code>。</li>
<li>header - 请求中使用的自定义请求头，注意在 <a href="https://tools.ietf.org/html/rfc7230#page-22" target="_blank" rel="noopener">RFC7230</a> 中规定，请求头的命名是不区分大小写的。</li>
<li>cookie - 用于传递特定的cookie值。</li>
</ul>
<h5 id="固定字段-10"><a href="#固定字段-10" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="parameterName"></a>name</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 参数的名称。参数名是<em>区分大小写</em>。<ul><li>如果 <a href="#parameterIn"><code>in</code></a> 的值是 <code>&quot;path&quot;</code>，那么 <code>name</code> 字段的值必须与其关联的 <a href="#pathsObject">Paths 对象</a> 内 <a href="#pathsPath">path</a> 字段的定义相呼应，查看 <a href="#pathTemplating">Path Templating</a> 了解更多信息。</li><li>如果 <a href="#parameterIn"><code>in</code></a> 的值是 <code>&quot;header&quot;</code> 而且<code>name</code>字段的值是<code>&quot;Accept&quot;</code>, <code>&quot;Content-Type&quot;</code>或 <code>&quot;Authorization&quot;</code>之一，那么此参数定义应该被忽略。</li><li>除此之外的情况，<code>name</code>表示 <a href="#parameterIn"><code>in</code></a> 属性的名字.</li></ul></td>
</tr>
<tr>
<td><a name="parameterIn"></a>in</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 参数的位置，可能的值有 “query”, “header”, “path” 或 “cookie”。</td>
</tr>
<tr>
<td><a name="parameterDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>对此参数的简要描述，这里可以包含使用示例。<a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="parameterRequired"></a>required</td>
<td align="center"><code>boolean</code></td>
<td>标明此参数是否是必选参数。如果 <a href="#parameterIn">参数位置</a> 的值是 <code>path</code>，那么这个参数一定是 <strong>必选</strong> 的因此这里的值必须是<code>true</code>。其他的则视情况而定。此字段的默认值是<code>false</code>。</td>
</tr>
<tr>
<td><a name="parameterDeprecated"></a> deprecated</td>
<td align="center"><code>boolean</code></td>
<td>标明一个参数是被弃用的而且应该尽快移除对它的使用。</td>
</tr>
<tr>
<td><a name="parameterAllowEmptyValue"></a> allowEmptyValue</td>
<td align="center"><code>boolean</code></td>
<td>设置是否允许传递空参数，这只在参数值为<code>query</code>时有效，默认值是<code>false</code>。如果同时指定了<a href="#parameterStyle"><code>style</code></a>属性且值为<code>n/a</code>（无法被序列化）,那么此字段 <code>allowEmptyValue</code>应该被忽略。</td>
</tr>
</tbody></table>
<p>序列化参数的规则有两种。<br>对于简单的场景， <a href="#parameterSchema"><code>schema</code></a> 和 <a href="#parameterStyle"><code>style</code></a> 可以用于描述参数的结构和语法。</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="parameterStyle"></a>style</td>
<td align="center"><code>string</code></td>
<td>描述根据参数值类型的不同如何序列化参数。默认值为（基于<code>in</code>字段的值）：<code>query</code> 对应 <code>form</code>；<code>path</code> 对应 <code>simple</code>; <code>header</code> 对应 <code>simple</code>; <code>cookie</code> 对应 <code>form</code>。</td>
</tr>
<tr>
<td><a name="parameterExplode"></a>explode</td>
<td align="center"><code>boolean</code></td>
<td>当这个值为<code>true</code>时，参数值类型为<code>array</code>或<code>object</code>的参数使用数组内的值或对象的键值对生成带分隔符的参数值。对于其他类型的参数，这个字段没有任何影响。当 <a href="#parameterStyle"><code>style</code></a> 是 <code>form</code>时，这里的默认值是 <code>true</code>，对于其他 style 值类型，默认值是<code>false</code>。</td>
</tr>
<tr>
<td><a name="parameterAllowReserved"></a>allowReserved</td>
<td align="center"><code>boolean</code></td>
<td>决定此参数的值是否允许不使用%号编码使用定义于 <a href="https://tools.ietf.org/html/rfc3986#section-2.2" target="_blank" rel="noopener">RFC3986</a>内的保留字符 <code>:/?#[]@!$&amp;&#39;()*+,;=</code>。 这个属性仅用于<code>in</code>的值是<code>query</code>时，此字段的默认值是<code>false</code>。</td>
</tr>
<tr>
<td><a name="parameterSchema"></a>schema</td>
<td align="center"><a href="#schemaObject">Schema 对象</a> | <a href="#referenceObject">Reference 对象</a></td>
<td>定义适用于此参数的类型结构。</td>
</tr>
<tr>
<td><a name="parameterExample"></a>example</td>
<td align="center">Any</td>
<td>不同媒体类型的示例，示例应该符合响应的结构的编码属性。各个<code>example</code>之间应该是独立的，而且如果一个引用的<code>schema</code>也包含一个示例，那么这里定义的示例应该 <em>覆盖</em> <code>schema</code>包含的示例。为了展现无法被恰当的用 JSON 或 YAML 格式展现的示例时，可以使用经过必要的编码的字符串值。</td>
</tr>
<tr>
<td><a name="parameterExamples"></a>examples</td>
<td align="center">Map[ <code>string</code>, <a href="#exampleObject">Example 对象</a> | <a href="#referenceObject">Reference 对象</a>]</td>
<td>不同媒体类型的示例。每个示例应该包含一个对应于指定编码格式的格式正确的值，这个<code>examples</code>映射内包含的对象应该不同于<code>example</code>内的值。而且如果一个引用的<code>schema</code>也包含一个示例，那么这里定义的示例应该 <em>覆盖</em> <code>schema</code>包含的示例。</td>
</tr>
</tbody></table>
<p>对于更复杂的场景，<a href="#parameterContent"><code>content</code></a>属性可以定义参数的媒体类型和概要。一个参数必须且只能包含<code>schema</code>和<code>content</code>属性中的一个。当<code>example</code> 或<code>examples</code>字段提供了<code>schema</code>对象时，示例必须遵照参数的序列化策略。</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="parameterContent"></a>content</td>
<td align="center">Map[<code>string</code>, <a href="#mediaTypeObject">Media Type Object</a>]</td>
<td>一个定义参数如何呈现的键值对映射。键是媒体类型，值是对应媒体类型的示例数据，此键值对只能包含一组键值对。</td>
</tr>
</tbody></table>
<h5 id="样式值"><a href="#样式值" class="headerlink" title="样式值"></a>样式值</h5><p>已经定义好了一组<code>style</code>类型用于支持常见的通用的简单参数序列化。</p>
<table>
<thead>
<tr>
<th><code>样式</code></th>
<th><a href="#dataTypes"><code>类型</code></a></th>
<th><code>in</code></th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>matrix</td>
<td><code>primitive</code>, <code>array</code>, <code>object</code></td>
<td><code>path</code></td>
<td>Path 样式的参数，参见 <a href="https://tools.ietf.org/html/rfc6570#section-3.2.7" target="_blank" rel="noopener">RFC6570</a></td>
</tr>
<tr>
<td>label</td>
<td><code>primitive</code>, <code>array</code>, <code>object</code></td>
<td><code>path</code></td>
<td>Label 样式的参数，参见 <a href="https://tools.ietf.org/html/rfc6570#section-3.2.5" target="_blank" rel="noopener">RFC6570</a></td>
</tr>
<tr>
<td>form</td>
<td><code>primitive</code>, <code>array</code>, <code>object</code></td>
<td><code>query</code>, <code>cookie</code></td>
<td>Form 样式的参数，参见 <a href="https://tools.ietf.org/html/rfc6570#section-3.2.8" target="_blank" rel="noopener">RFC6570</a>. 此选项替换定义于OpenAPI 2.0中<code>collectionFormat</code>等于<code>csv</code> (当 <code>explode</code>值为 false)或<code>multi</code> (当 <code>explode</code>值为 true)的情况。</td>
</tr>
<tr>
<td>simple</td>
<td><code>array</code></td>
<td><code>path</code>, <code>header</code></td>
<td>Simple 样式的参数，参见 <a href="https://tools.ietf.org/html/rfc6570#section-3.2.2" target="_blank" rel="noopener">RFC6570</a>. 此选项替换定义于OpenAPI 2.0 中 <code>collectionFormat</code>等于<code>csv</code>的情况。</td>
</tr>
<tr>
<td>spaceDelimited</td>
<td><code>array</code></td>
<td><code>query</code></td>
<td>空格分隔的数组值。此选项替换定义于OpenAPI 2.0 中 <code>collectionFormat</code> equal to <code>ssv</code>的情况。</td>
</tr>
<tr>
<td>pipeDelimited</td>
<td><code>array</code></td>
<td><code>query</code></td>
<td>管道符`</td>
</tr>
<tr>
<td>deepObject</td>
<td><code>object</code></td>
<td><code>query</code></td>
<td>提供一种简单的方法来表示参数中的嵌套对象值.</td>
</tr>
</tbody></table>
<h5 id="Style-示例"><a href="#Style-示例" class="headerlink" title="Style 示例"></a>Style 示例</h5><p>建设一个参数名为<code>color</code>包含如下之一的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string -&gt; &quot;blue&quot;</span><br><span class="line">array -&gt; [&quot;blue&quot;,&quot;black&quot;,&quot;brown&quot;]</span><br><span class="line">object -&gt; &#123; &quot;R&quot;: 100, &quot;G&quot;: 200, &quot;B&quot;: 150 &#125;</span><br></pre></td></tr></table></figure>

<p>下面这个表展示了各个不同类型值之间的例子。</p>
<table>
<thead>
<tr>
<th><a href="#dataTypeFormat"><code>style</code></a></th>
<th><code>explode</code></th>
<th><code>empty</code></th>
<th><code>string</code></th>
<th><code>array</code></th>
<th><code>object</code></th>
</tr>
</thead>
<tbody><tr>
<td>matrix</td>
<td>false</td>
<td>;color</td>
<td>;color=blue</td>
<td>;color=blue,black,brown</td>
<td>;color=R,100,G,200,B,150</td>
</tr>
<tr>
<td>matrix</td>
<td>true</td>
<td>;color</td>
<td>;color=blue</td>
<td>;color=blue;color=black;color=brown</td>
<td>;R=100;G=200;B=150</td>
</tr>
<tr>
<td>label</td>
<td>false</td>
<td>.</td>
<td>.blue</td>
<td>.blue.black.brown</td>
<td>.R.100.G.200.B.150</td>
</tr>
<tr>
<td>label</td>
<td>true</td>
<td>.</td>
<td>.blue</td>
<td>.blue.black.brown</td>
<td>.R=100.G=200.B=150</td>
</tr>
<tr>
<td>form</td>
<td>false</td>
<td>color=</td>
<td>color=blue</td>
<td>color=blue,black,brown</td>
<td>color=R,100,G,200,B,150</td>
</tr>
<tr>
<td>form</td>
<td>true</td>
<td>color=</td>
<td>color=blue</td>
<td>color=blue&amp;color=black&amp;color=brown</td>
<td>R=100&amp;G=200&amp;B=150</td>
</tr>
<tr>
<td>simple</td>
<td>false</td>
<td>n/a</td>
<td>blue</td>
<td>blue,black,brown</td>
<td>R,100,G,200,B,150</td>
</tr>
<tr>
<td>simple</td>
<td>true</td>
<td>n/a</td>
<td>blue</td>
<td>blue,black,brown</td>
<td>R=100,G=200,B=150</td>
</tr>
<tr>
<td>spaceDelimited</td>
<td>false</td>
<td>n/a</td>
<td>n/a</td>
<td>blue%20black%20brown</td>
<td>R%20100%20G%20200%20B%20150</td>
</tr>
<tr>
<td>pipeDelimited</td>
<td>false</td>
<td>n/a</td>
<td>n/a</td>
<td>blue|black|brown</td>
<td>R|100|G|200</td>
</tr>
<tr>
<td>deepObject</td>
<td>true</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>color[R]=100&amp;color[G]=200&amp;color[B]=150</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Parameter-对象示例"><a href="#Parameter-对象示例" class="headerlink" title="Parameter 对象示例"></a>Parameter 对象示例</h5><p>一个值数组，数组元素为64位整数值的请求头参数：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"token"</span>,</span><br><span class="line">  <span class="attr">"in"</span>: <span class="string">"header"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"token to be passed as a header"</span>,</span><br><span class="line">  <span class="attr">"required"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"schema"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">    <span class="attr">"items"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"integer"</span>,</span><br><span class="line">      <span class="attr">"format"</span>: <span class="string">"int64"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"style"</span>: <span class="string">"simple"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">token</span></span><br><span class="line"><span class="attr">in:</span> <span class="string">header</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">token</span> <span class="string">to</span> <span class="string">be</span> <span class="string">passed</span> <span class="string">as</span> <span class="string">a</span> <span class="string">header</span></span><br><span class="line"><span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">schema:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">  items:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">    format:</span> <span class="string">int64</span></span><br><span class="line"><span class="attr">style:</span> <span class="string">simple</span></span><br></pre></td></tr></table></figure>

<p>一个值类型为字符串的路径参数：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"username"</span>,</span><br><span class="line">  <span class="attr">"in"</span>: <span class="string">"path"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"username to fetch"</span>,</span><br><span class="line">  <span class="attr">"required"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"schema"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">username</span></span><br><span class="line"><span class="attr">in:</span> <span class="string">path</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">username</span> <span class="string">to</span> <span class="string">fetch</span></span><br><span class="line"><span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">schema:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">string</span></span><br></pre></td></tr></table></figure>

<p>一个值类型为字符串的可选查询参数，允许通过通过重复参数来传递多个值：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"id"</span>,</span><br><span class="line">  <span class="attr">"in"</span>: <span class="string">"query"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"ID of the object to fetch"</span>,</span><br><span class="line">  <span class="attr">"required"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"schema"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">    <span class="attr">"items"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"style"</span>: <span class="string">"form"</span>,</span><br><span class="line">  <span class="attr">"explode"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">id</span></span><br><span class="line"><span class="attr">in:</span> <span class="string">query</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">ID</span> <span class="string">of</span> <span class="string">the</span> <span class="string">object</span> <span class="string">to</span> <span class="string">fetch</span></span><br><span class="line"><span class="attr">required:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">schema:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">  items:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">style:</span> <span class="string">form</span></span><br><span class="line"><span class="attr">explode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>一个任意格式的查询参数，允许使用指定类型的未定义参数：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"in"</span>: <span class="string">"query"</span>,</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"freeForm"</span>,</span><br><span class="line">  <span class="attr">"schema"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">    <span class="attr">"additionalProperties"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"integer"</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"style"</span>: <span class="string">"form"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">in:</span> <span class="string">query</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">freeForm</span></span><br><span class="line"><span class="attr">schema:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">  additionalProperties:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">style:</span> <span class="string">form</span></span><br></pre></td></tr></table></figure>

<p>使用<code>content</code>定义序列化方法的复杂参数：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"in"</span>: <span class="string">"query"</span>,</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"coordinates"</span>,</span><br><span class="line">  <span class="attr">"content"</span>: &#123;</span><br><span class="line">    <span class="attr">"application/json"</span>: &#123;</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">        <span class="attr">"required"</span>: [</span><br><span class="line">          <span class="string">"lat"</span>,</span><br><span class="line">          <span class="string">"long"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">"properties"</span>: &#123;</span><br><span class="line">          <span class="attr">"lat"</span>: &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"number"</span></span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">"long"</span>: &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"number"</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">in:</span> <span class="string">query</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">coordinates</span></span><br><span class="line"><span class="attr">content:</span></span><br><span class="line">  <span class="string">application/json:</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">      required:</span></span><br><span class="line"><span class="bullet">        -</span> <span class="string">lat</span></span><br><span class="line"><span class="bullet">        -</span> <span class="string">long</span></span><br><span class="line"><span class="attr">      properties:</span></span><br><span class="line"><span class="attr">        lat:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">number</span></span><br><span class="line"><span class="attr">        long:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">number</span></span><br></pre></td></tr></table></figure>

<h4 id="Request-Body-Object"><a href="#Request-Body-Object" class="headerlink" title="Request Body Object"></a><a name="requestBodyObject"></a>Request Body Object</h4><p>定义请求体。</p>
<h5 id="固定字段-11"><a href="#固定字段-11" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="requestBodyDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>对请求体的简要描述，可以包含使用示例，<a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="requestBodyContent"></a>content</td>
<td align="center">Map[<code>string</code>, <a href="#mediaTypeObject">Media Type Object</a>]</td>
<td><strong>必选</strong>. 请求体的内容。请求体的属性key是一个媒体类型或者<a href="https://tools.ietf.org/html/rfc7231#appendix-D" target="_blank" rel="noopener">媒体类型范围</a>，值是对应媒体类型的示例数据。对于能匹配多个key的请求，定义更明确的请求会更优先被匹配。比如<code>text/plain</code>会覆盖<code>text/*</code>的定义。</td>
</tr>
<tr>
<td><a name="requestBodyRequired"></a>required</td>
<td align="center"><code>boolean</code></td>
<td>指定请求体是不是应该被包含在请求中，默认值是<code>false</code>。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Request-Body-示例"><a href="#Request-Body-示例" class="headerlink" title="Request Body 示例"></a>Request Body 示例</h5><p>一个引用了模型定义的请求体。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"user to add to the system"</span>,</span><br><span class="line">  <span class="attr">"content"</span>: &#123;</span><br><span class="line">    <span class="attr">"application/json"</span>: &#123;</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/User"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"examples"</span>: &#123;</span><br><span class="line">          <span class="attr">"user"</span> : &#123;</span><br><span class="line">            <span class="attr">"summary"</span>: <span class="string">"User Example"</span>,</span><br><span class="line">            <span class="attr">"externalValue"</span>: <span class="string">"http://foo.bar/examples/user-example.json"</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"application/xml"</span>: &#123;</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/User"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"examples"</span>: &#123;</span><br><span class="line">          <span class="attr">"user"</span> : &#123;</span><br><span class="line">            <span class="attr">"summary"</span>: <span class="string">"User example in XML"</span>,</span><br><span class="line">            <span class="attr">"externalValue"</span>: <span class="string">"http://foo.bar/examples/user-example.xml"</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"text/plain"</span>: &#123;</span><br><span class="line">      <span class="attr">"examples"</span>: &#123;</span><br><span class="line">        <span class="attr">"user"</span> : &#123;</span><br><span class="line">            <span class="attr">"summary"</span>: <span class="string">"User example in Plain text"</span>,</span><br><span class="line">            <span class="attr">"externalValue"</span>: <span class="string">"http://foo.bar/examples/user-example.txt"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"*/*"</span>: &#123;</span><br><span class="line">      <span class="attr">"examples"</span>: &#123;</span><br><span class="line">        <span class="attr">"user"</span> : &#123;</span><br><span class="line">            <span class="attr">"summary"</span>: <span class="string">"User example in other format"</span>,</span><br><span class="line">            <span class="attr">"externalValue"</span>: <span class="string">"http://foo.bar/examples/user-example.whatever"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">description:</span> <span class="string">user</span> <span class="string">to</span> <span class="string">add</span> <span class="string">to</span> <span class="string">the</span> <span class="string">system</span></span><br><span class="line"><span class="attr">content:</span></span><br><span class="line">  <span class="string">'application/json'</span><span class="string">:</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line">      <span class="string">$ref:</span> <span class="string">'#/components/schemas/User'</span></span><br><span class="line"><span class="attr">    examples:</span></span><br><span class="line"><span class="attr">      user:</span></span><br><span class="line"><span class="attr">        summary:</span> <span class="string">User</span> <span class="string">Example</span></span><br><span class="line"><span class="attr">        externalValue:</span> <span class="string">'http://foo.bar/examples/user-example.json'</span></span><br><span class="line">  <span class="string">'application/xml'</span><span class="string">:</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line">      <span class="string">$ref:</span> <span class="string">'#/components/schemas/User'</span></span><br><span class="line"><span class="attr">    examples:</span></span><br><span class="line"><span class="attr">      user:</span></span><br><span class="line"><span class="attr">        summary:</span> <span class="string">User</span> <span class="string">Example</span> <span class="string">in</span> <span class="string">XML</span></span><br><span class="line"><span class="attr">        externalValue:</span> <span class="string">'http://foo.bar/examples/user-example.xml'</span></span><br><span class="line">  <span class="string">'text/plain'</span><span class="string">:</span></span><br><span class="line"><span class="attr">    examples:</span></span><br><span class="line"><span class="attr">      user:</span></span><br><span class="line"><span class="attr">        summary:</span> <span class="string">User</span> <span class="string">example</span> <span class="string">in</span> <span class="string">text</span> <span class="string">plain</span> <span class="string">format</span></span><br><span class="line"><span class="attr">        externalValue:</span> <span class="string">'http://foo.bar/examples/user-example.txt'</span></span><br><span class="line">  <span class="string">'*/*'</span><span class="string">:</span></span><br><span class="line"><span class="attr">    examples:</span></span><br><span class="line"><span class="attr">      user:</span></span><br><span class="line"><span class="attr">        summary:</span> <span class="string">User</span> <span class="string">example</span> <span class="string">in</span> <span class="string">other</span> <span class="string">format</span></span><br><span class="line"><span class="attr">        externalValue:</span> <span class="string">'http://foo.bar/examples/user-example.whatever'</span></span><br></pre></td></tr></table></figure>

<p>请求体是一个字符串的数组：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"user to add to the system"</span>,</span><br><span class="line">  <span class="attr">"content"</span>: &#123;</span><br><span class="line">    <span class="attr">"text/plain"</span>: &#123;</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">        <span class="attr">"items"</span>: &#123;</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">description:</span> <span class="string">user</span> <span class="string">to</span> <span class="string">add</span> <span class="string">to</span> <span class="string">the</span> <span class="string">system</span></span><br><span class="line"><span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">content:</span></span><br><span class="line">  <span class="string">text/plain:</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">      items:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">string</span></span><br></pre></td></tr></table></figure>

<h4 id="Media-Type-对象"><a href="#Media-Type-对象" class="headerlink" title="Media Type 对象"></a><a name="mediaTypeObject"></a>Media Type 对象</h4><p>每种媒体类型对象都有相应的结构和示例来描述它。</p>
<h5 id="固定字段-12"><a href="#固定字段-12" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="mediaTypeSchema"></a>schema</td>
<td align="center"><a href="#schemaObject">Schema 对象</a> | <a href="#referenceObject">Reference 对象</a></td>
<td>定义此媒体类型的结构。</td>
</tr>
<tr>
<td><a name="mediaTypeExample"></a>example</td>
<td align="center">Any</td>
<td>媒体类型的示例。示例对象应该符合此媒体类型的格式， 这里指定的<code>example</code>对象 object is mutually exclusive of the <code>examples</code> object.  而且如果引用的<code>schema</code>也包含示例，在这里指定的<code>example</code>值将会覆盖<code>schema</code>提供的示例。</td>
</tr>
<tr>
<td><a name="mediaTypeExamples"></a>examples</td>
<td align="center">Map[ <code>string</code>, <a href="#exampleObject">Example 对象</a> | <a href="#referenceObject">Reference 对象</a>]</td>
<td>媒体类型的示例，每个媒体对象的值都应该匹配它对应的媒体类型的格式。  The <code>examples</code> object is mutually exclusive of the <code>example</code> object.  而且如果引用的<code>schema</code>也包含示例，在这里指定的<code>example</code>值将会覆盖<code>schema</code>提供的示例。</td>
</tr>
<tr>
<td><a name="mediaTypeEncoding"></a>encoding</td>
<td align="center">Map[<code>string</code>, <a href="#encodingObject">Encoding 对象</a>]</td>
<td>属性名与编码信息的映射。每个属性名必须存在于<code>schema</code>属性的key中，当媒体类型等于<code>multipart</code>或<code>application/x-www-form-urlencoded</code>时，编码对象信息仅适用于<code>requestBody</code>。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Media-Type-示例"><a href="#Media-Type-示例" class="headerlink" title="Media Type 示例"></a>Media Type 示例</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"application/json"</span>: &#123;</span><br><span class="line">    <span class="string">"schema"</span>: &#123;</span><br><span class="line">         <span class="string">"$ref"</span>: <span class="string">"#/components/schemas/Pet"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"examples"</span>: &#123;</span><br><span class="line">      <span class="string">"cat"</span> : &#123;</span><br><span class="line">        <span class="string">"summary"</span>: <span class="string">"An example of a cat"</span>,</span><br><span class="line">        <span class="string">"value"</span>:</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">"name"</span>: <span class="string">"Fluffy"</span>,</span><br><span class="line">            <span class="string">"petType"</span>: <span class="string">"Cat"</span>,</span><br><span class="line">            <span class="string">"color"</span>: <span class="string">"White"</span>,</span><br><span class="line">            <span class="string">"gender"</span>: <span class="string">"male"</span>,</span><br><span class="line">            <span class="string">"breed"</span>: <span class="string">"Persian"</span></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">"dog"</span>: &#123;</span><br><span class="line">        <span class="string">"summary"</span>: <span class="string">"An example of a dog with a cat's name"</span>,</span><br><span class="line">        <span class="string">"value"</span> :  &#123;</span><br><span class="line">          <span class="string">"name"</span>: <span class="string">"Puma"</span>,</span><br><span class="line">          <span class="string">"petType"</span>: <span class="string">"Dog"</span>,</span><br><span class="line">          <span class="string">"color"</span>: <span class="string">"Black"</span>,</span><br><span class="line">          <span class="string">"gender"</span>: <span class="string">"Female"</span>,</span><br><span class="line">          <span class="string">"breed"</span>: <span class="string">"Mixed"</span></span><br><span class="line">        &#125;,</span><br><span class="line">      <span class="string">"frog"</span>: &#123;</span><br><span class="line">          <span class="string">"$ref"</span>: <span class="string">"#/components/examples/frog-example"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">application/json:</span></span><br><span class="line"><span class="attr">  schema:</span></span><br><span class="line">    <span class="string">$ref:</span> <span class="string">"#/components/schemas/Pet"</span></span><br><span class="line"><span class="attr">  examples:</span></span><br><span class="line"><span class="attr">    cat:</span></span><br><span class="line"><span class="attr">      summary:</span> <span class="string">An</span> <span class="string">example</span> <span class="string">of</span> <span class="string">a</span> <span class="string">cat</span></span><br><span class="line"><span class="attr">      value:</span></span><br><span class="line"><span class="attr">        name:</span> <span class="string">Fluffy</span></span><br><span class="line"><span class="attr">        petType:</span> <span class="string">Cat</span></span><br><span class="line"><span class="attr">        color:</span> <span class="string">White</span></span><br><span class="line"><span class="attr">        gender:</span> <span class="string">male</span></span><br><span class="line"><span class="attr">        breed:</span> <span class="string">Persian</span></span><br><span class="line"><span class="attr">    dog:</span></span><br><span class="line"><span class="attr">      summary:</span> <span class="string">An</span> <span class="string">example</span> <span class="string">of</span> <span class="string">a</span> <span class="string">dog</span> <span class="string">with</span> <span class="string">a</span> <span class="string">cat's</span> <span class="string">name</span></span><br><span class="line"><span class="attr">      value:</span></span><br><span class="line"><span class="attr">        name:</span> <span class="string">Puma</span></span><br><span class="line"><span class="attr">        petType:</span> <span class="string">Dog</span></span><br><span class="line"><span class="attr">        color:</span> <span class="string">Black</span></span><br><span class="line"><span class="attr">        gender:</span> <span class="string">Female</span></span><br><span class="line"><span class="attr">        breed:</span> <span class="string">Mixed</span></span><br><span class="line"><span class="attr">    frog:</span></span><br><span class="line">      <span class="string">$ref:</span> <span class="string">"#/components/examples/frog-example"</span></span><br></pre></td></tr></table></figure>

<h5 id="对文件上传的考虑"><a href="#对文件上传的考虑" class="headerlink" title="对文件上传的考虑"></a>对文件上传的考虑</h5><p>相对于2.0的规范，<code>file</code>内容的上传与下载在开放API规范与其他类型一样使用相同的语法来描述。<br>特别的是:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># content transferred with base64 encoding</span></span><br><span class="line"><span class="attr">schema:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">  format:</span> <span class="string">base64</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># content transferred in binary (octet-stream):</span></span><br><span class="line"><span class="attr">schema:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">  format:</span> <span class="string">binary</span></span><br></pre></td></tr></table></figure>

<p>这些示例同时适用于文件上传和下载。</p>
<p>一个使用<code>POST</code>操作提交文件的<code>requestBody</code>看起来像下面这样：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">requestBody:</span></span><br><span class="line"><span class="attr">  content:</span></span><br><span class="line">    <span class="string">application/octet-stream:</span></span><br><span class="line">      <span class="comment"># any media type is accepted, functionally equivalent to `*/*`</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line">        <span class="comment"># a binary file of any type</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">        format:</span> <span class="string">binary</span></span><br></pre></td></tr></table></figure>

<p>此外，可以指定明确的媒体类型：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># multiple, specific media types may be specified:</span></span><br><span class="line"><span class="attr">requestBody:</span></span><br><span class="line"><span class="attr">  content:</span></span><br><span class="line">      <span class="comment"># a binary file of type png or jpeg</span></span><br><span class="line">    <span class="string">'image/jpeg'</span><span class="string">:</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">        format:</span> <span class="string">binary</span></span><br><span class="line">    <span class="string">'image/png'</span><span class="string">:</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">        format:</span> <span class="string">binary</span></span><br></pre></td></tr></table></figure>

<p>为了同时上传多个文件，必须指定<code>multipart</code>媒体类型：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">requestBody:</span></span><br><span class="line"><span class="attr">  content:</span></span><br><span class="line">    <span class="string">multipart/form-data:</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line">          <span class="comment"># The property name 'file' will be used for all files.</span></span><br><span class="line"><span class="attr">          file:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">            items:</span></span><br><span class="line"><span class="attr">              type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">              format:</span> <span class="string">binary</span></span><br></pre></td></tr></table></figure>

<h5 id="x-www-form-urlencoded-请求体的支持"><a href="#x-www-form-urlencoded-请求体的支持" class="headerlink" title="x-www-form-urlencoded 请求体的支持"></a>x-www-form-urlencoded 请求体的支持</h5><p>可以使用下面定义的格式来提交form url编码<a href="https://tools.ietf.org/html/rfc1866" target="_blank" rel="noopener">RFC1866</a>的内容：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">requestBody:</span></span><br><span class="line"><span class="attr">  content:</span></span><br><span class="line">    <span class="string">application/x-www-form-urlencoded:</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          id:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">            format:</span> <span class="string">uuid</span></span><br><span class="line"><span class="attr">          address:</span></span><br><span class="line">            <span class="comment"># complex types are stringified to support RFC 1866</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">            properties:</span> <span class="string">&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<p>在这个示例中，在内容被传送到服务器之前，<code>requestBody</code>中的内容必须使用<a href="https://tools.ietf.org/html/rfc1866/" target="_blank" rel="noopener">RFC1866</a>中定义的方式字符串化。此外<code>address</code>字段的复杂对象将会被字符串化。</p>
<p>当使用<code>application/x-www-form-urlencoded</code>格式传送复杂对象时，默认的序列化策略在<a href="#encodingObject"><code>Encoding Object</code></a>的<a href="#encodingStyle"><code>style</code></a> 属性中定义为<code>form</code>.</p>
<h5 id="对multipart内容的特别思考"><a href="#对multipart内容的特别思考" class="headerlink" title="对multipart内容的特别思考"></a>对<code>multipart</code>内容的特别思考</h5><p>使用<code>multipart/form-data</code>作为<code>Content-Type</code>来传送请求体是很常见的做法。相对于2.0版本的规范，当定义<code>multipart</code>内容的输入参数时必须指定<code>schema</code>属性。这不但支持复杂的结构而且支持多文件上传机制。</p>
<p>当使用<code>multipart</code>类型是，可以使用boundaries来分隔传送的内容，因此<code>multipart</code>定义了以下默认的<code>Content-Type</code>：</p>
<ul>
<li>如果属性是一个原始值或者是一个原始值的数组，那么默认的Content-Type是 <code>text/plain</code></li>
<li>如果属性是复杂对象或者复杂对象的数组，那么默认的Content-Type是<code>application/json</code></li>
<li>如果属性是<code>type: string</code>与<code>format: binary</code>或<code>format: base64</code>(也就是文件对象)的组合，那么默认的Content-Type是 <code>application/octet-stream</code></li>
</ul>
<p>示例:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">requestBody:</span></span><br><span class="line"><span class="attr">  content:</span></span><br><span class="line">    <span class="string">multipart/form-data:</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          id:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">            format:</span> <span class="string">uuid</span></span><br><span class="line"><span class="attr">          address:</span></span><br><span class="line">            <span class="comment"># default Content-Type for objects is `application/json`</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">            properties:</span> <span class="string">&#123;&#125;</span></span><br><span class="line"><span class="attr">          profileImage:</span></span><br><span class="line">            <span class="comment"># default Content-Type for string/binary is `application/octet-stream`</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">            format:</span> <span class="string">binary</span></span><br><span class="line"><span class="attr">          children:</span></span><br><span class="line">            <span class="comment"># default Content-Type for arrays is based on the `inner` type (text/plain here)</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">            items:</span></span><br><span class="line"><span class="attr">              type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">          addresses:</span></span><br><span class="line">            <span class="comment"># default Content-Type for arrays is based on the `inner` type (object shown, so `application/json` in this example)</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">            items:</span></span><br><span class="line"><span class="attr">              type:</span> <span class="string">'#/components/schemas/Address'</span></span><br></pre></td></tr></table></figure>

<p>这里介绍一下用来控制序列化<code>multipart</code>请求体的<code>encoding</code>属性，这个属性只适用于<code>multipart</code>和<code>application/x-www-form-urlencoded</code>类型的请求体。</p>
<h4 id="Encoding-对象"><a href="#Encoding-对象" class="headerlink" title="Encoding 对象"></a><a name="encodingObject"></a>Encoding 对象</h4><p>一个编码定义仅适用于一个结构属性。</p>
<h5 id="固定字段-13"><a href="#固定字段-13" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="encodingContentType"></a>contentType</td>
<td align="center"><code>string</code></td>
<td>对具体属性的 Content-Type的编码。默认值取决于属性的类型：<code>application/octet-stream</code>编码适用于<code>binary</code>格式的<code>string</code>；<code>text/plain</code>适用于其他原始值；<code>application/json</code>适用于<code>object</code>；对于<code>array</code>值类型的默认值取决于数组内元素的类型，默认值可以是明确的媒体类型(比如<code>application/json</code>), 或者通配符类型的媒体类型(比如<code>image/*</code>), 又或者是用分号分隔的两种媒体类型。</td>
</tr>
<tr>
<td><a name="encodingHeaders"></a>headers</td>
<td align="center">Map[<code>string</code>, <a href="#headerObject">Header 对象</a> | <a href="#referenceObject">Reference 对象</a>]</td>
<td>提供附加信息的请求头键值对映射。比如<code>Content-Disposition</code>、<code>Content-Type</code>各自描述了不同的信息而且在这里将会被忽略，如果请求体的媒体类型不是<code>multipart</code>，这个属性将会被忽略。</td>
</tr>
<tr>
<td><a name="encodingStyle"></a>style</td>
<td align="center"><code>string</code></td>
<td>描述一个属性根据它的类型将会被如何序列化。查看<a href="#parameterObject">Parameter 对象</a>的<a href="#parameterStyle"><code>style</code></a>属性可以得到更多详细信息。这个属性的行为与<code>query</code>参数相同，包括默认值的定义。如果请求体的媒体类型不是<code>application/x-www-form-urlencoded</code>，这个属性将会被忽略。</td>
</tr>
<tr>
<td><a name="encodingExplode"></a>explode</td>
<td align="center"><code>boolean</code></td>
<td>当这个值为true时，类型为<code>array</code>或<code>object</code>的属性值会为数组的每个元素或对象的每个键值对分开生成参数。这个属性对其他数据类型没有影响。当<a href="#encodingStyle"><code>style</code></a>为<code>form</code>时，这个属性的默认值是<code>true</code>，对于其他的<code>style</code>类型，这个属性的默认值是<code>false</code>。这个属性会被忽略如果请求体的媒体类型不是<code>application/x-www-form-urlencoded</code>。</td>
</tr>
<tr>
<td><a name="encodingAllowReserved"></a>allowReserved</td>
<td align="center"><code>boolean</code></td>
<td>决定此参数的值是否允许不使用%号编码使用定义于 <a href="https://tools.ietf.org/html/rfc3986#section-2.2" target="_blank" rel="noopener">RFC3986</a>内的保留字符 <code>:/?#[]@!$&amp;&#39;()*+,;=</code>。 这个属性仅用于<code>in</code>的值是<code>query</code>时，此字段的默认值是<code>false</code>。 这个属性会被忽略如果请求体的媒体类型不是<code>application/x-www-form-urlencoded</code>。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Encoding-对象示例"><a href="#Encoding-对象示例" class="headerlink" title="Encoding 对象示例"></a>Encoding 对象示例</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">requestBody:</span></span><br><span class="line"><span class="attr">  content:</span></span><br><span class="line">    <span class="string">multipart/mixed:</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          id:</span></span><br><span class="line">            <span class="comment"># default is text/plain</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">            format:</span> <span class="string">uuid</span></span><br><span class="line"><span class="attr">          address:</span></span><br><span class="line">            <span class="comment"># default is application/json</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">            properties:</span> <span class="string">&#123;&#125;</span></span><br><span class="line"><span class="attr">          historyMetadata:</span></span><br><span class="line">            <span class="comment"># need to declare XML format!</span></span><br><span class="line"><span class="attr">            description:</span> <span class="string">metadata</span> <span class="string">in</span> <span class="string">XML</span> <span class="string">format</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">            properties:</span> <span class="string">&#123;&#125;</span></span><br><span class="line"><span class="attr">          profileImage:</span></span><br><span class="line">            <span class="comment"># default is application/octet-stream, need to declare an image type only!</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">            format:</span> <span class="string">binary</span></span><br><span class="line"><span class="attr">      encoding:</span></span><br><span class="line"><span class="attr">        historyMetadata:</span></span><br><span class="line">          <span class="comment"># require XML Content-Type in utf-8 encoding</span></span><br><span class="line"><span class="attr">          contentType:</span> <span class="string">application/xml;</span> <span class="string">charset=utf-8</span></span><br><span class="line"><span class="attr">        profileImage:</span></span><br><span class="line">          <span class="comment"># only accept png/jpeg</span></span><br><span class="line"><span class="attr">          contentType:</span> <span class="string">image/png,</span> <span class="string">image/jpeg</span></span><br><span class="line"><span class="attr">          headers:</span></span><br><span class="line"><span class="attr">            X-Rate-Limit-Limit:</span></span><br><span class="line"><span class="attr">              description:</span> <span class="string">The</span> <span class="string">number</span> <span class="string">of</span> <span class="string">allowed</span> <span class="string">requests</span> <span class="string">in</span> <span class="string">the</span> <span class="string">current</span> <span class="string">period</span></span><br><span class="line"><span class="attr">              schema:</span></span><br><span class="line"><span class="attr">                type:</span> <span class="string">integer</span></span><br></pre></td></tr></table></figure>

<h4 id="Responses-对象"><a href="#Responses-对象" class="headerlink" title="Responses 对象"></a><a name="responsesObject"></a>Responses 对象</h4><p>描述一个操作可能发生的响应的响应码与响应包含的响应体的对象。</p>
<p>一份API文档不必包含所有可能响应码，因为有些状态码无法提前预知。尽管如此，一份文档还是应当包含所有成功的响应和任何已知的错误响应。</p>
<p><code>default</code>字段可以用来标记一个响应适用于其他未被规范明确定义的HTTP响应码的默认响应。</p>
<p>一个<code>Responses 对象</code>必须至少包含一个响应码，而且是成功的响应。</p>
<h5 id="固定字段-14"><a href="#固定字段-14" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="responsesDefault"></a>default</td>
<td align="center"><a href="#responseObject">Response 对象</a> | <a href="#referenceObject">Reference 对象</a></td>
<td>用于描述未被明确声明的HTTP响应码的响应的文档。使用这个字段来覆盖未声明的响应。一个 <a href="#referenceObject">Reference 对象</a> 可以链接定义于 <a href="#componentsResponses">OpenAPI 对象 components/responses</a> 区域的响应对象。</td>
</tr>
</tbody></table>
<h5 id="模式字段-1"><a href="#模式字段-1" class="headerlink" title="模式字段"></a>模式字段</h5><table>
<thead>
<tr>
<th>字段名模式</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="responsesCode"></a><a href="#httpCodes">HTTP Status Code</a></td>
<td align="center"><a href="#responseObject">Response 对象</a> | <a href="#referenceObject">Reference 对象</a></td>
<td>任何 <a href="#httpCodes">HTTP status code</a> 都可以被用作属性名， 但是每一个状态码只能使用一次，用于描述此状态码的响应。一个 <a href="#referenceObject">Reference 对象</a> 可以链接定义于 <a href="#componentsResponses">OpenAPI 对象 components/responses</a> 区域的响应对象。这个字段名必须包含在双引号中 (例如 “200”) 以兼容 JSON 和 YAML。这个字段可以包含大写的通配字符<code>X</code>来定义响应码的范围。例如，<code>2XX</code> 代表所有位于 <code>[200-299]</code> 范围内的响应码。只允许使用以下范围定义：<code>1XX</code>, <code>2XX</code>, <code>3XX</code>, <code>4XX</code>, 和 <code>5XX</code>。如果同时包含范围定义与明确定义的响应，那么明确定义的响应有更高的优先级。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Responses-对象示例"><a href="#Responses-对象示例" class="headerlink" title="Responses 对象示例"></a>Responses 对象示例</h5><p>一个代表成功操作的 200 响应和一个代表其他操作状态的默认响应（暗示是一个错误）：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"200"</span>: &#123;</span><br><span class="line">    <span class="attr">"description"</span>: <span class="string">"a pet to be returned"</span>,</span><br><span class="line">    <span class="attr">"content"</span>: &#123;</span><br><span class="line">      <span class="attr">"application/json"</span>: &#123;</span><br><span class="line">        <span class="attr">"schema"</span>: &#123;</span><br><span class="line">          <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/Pet"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"default"</span>: &#123;</span><br><span class="line">    <span class="attr">"description"</span>: <span class="string">"Unexpected error"</span>,</span><br><span class="line">    <span class="attr">"content"</span>: &#123;</span><br><span class="line">      <span class="attr">"application/json"</span>: &#123;</span><br><span class="line">        <span class="attr">"schema"</span>: &#123;</span><br><span class="line">          <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/ErrorModel"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'200'</span><span class="string">:</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">a</span> <span class="string">pet</span> <span class="string">to</span> <span class="string">be</span> <span class="string">returned</span></span><br><span class="line"><span class="attr">  content:</span></span><br><span class="line">    <span class="string">application/json:</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line">        <span class="string">$ref:</span> <span class="string">'#/components/schemas/Pet'</span></span><br><span class="line"><span class="attr">default:</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">Unexpected</span> <span class="string">error</span></span><br><span class="line"><span class="attr">  content:</span></span><br><span class="line">    <span class="string">application/json:</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line">        <span class="string">$ref:</span> <span class="string">'#/components/schemas/ErrorModel'</span></span><br></pre></td></tr></table></figure>

<h4 id="Response对象"><a href="#Response对象" class="headerlink" title="Response对象"></a><a name="responseObject"></a>Response对象</h4><p>描述单个API操作的响应，包括设计时间、基于不同响应也包括到相应操作的静态<code>links</code></p>
<h5 id="固定字段-15"><a href="#固定字段-15" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="responseDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 对响应的简短描述。<a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="responseHeaders"></a>headers</td>
<td align="center">Map[<code>string</code>, <a href="#headerObject">Header Object</a>  | <a href="#referenceObject">Reference Object</a>]</td>
<td>映射HTTP头名称到其定义。<a href="https://tools.ietf.org/html/rfc7230#page-22" target="_blank" rel="noopener">RFC7230</a> 规定了HTTP头名称不区分大小写。如果一个响应头使用<code>&quot;Content-Type&quot;</code>作为HTTP头名称，它会被忽略。</td>
</tr>
<tr>
<td><a name="responseContent"></a>content</td>
<td align="center">Map[<code>string</code>, <a href="#mediaTypeObject">Media Type Object</a>]</td>
<td>一个包含描述预期响应负载的映射。使用 media type 或 <a href="https://tools.ietf.org/html/rfc7231#appendix-D" target="_blank" rel="noopener">media type range</a> 作为键，以响应的描述作为值。当一个响应匹配多个键时，只有最明确的键才适用。比如：text/plain 会覆盖 text/*</td>
</tr>
<tr>
<td><a name="responseLinks"></a>links</td>
<td align="center">Map[<code>string</code>, <a href="#linkObject">Link Object</a> | <a href="#referenceObject">Reference Object</a>]</td>
<td>A map of operations links that can be followed from the response. The key of the map is a short name for the link, following the naming constraints of the names for <a href="#componentsObject">Component Objects</a>.</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Response-对象示例s"><a href="#Response-对象示例s" class="headerlink" title="Response 对象示例s"></a>Response 对象示例s</h5><p>一个包含复杂类型的数组格式的响应：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"A complex object array response"</span>,</span><br><span class="line">  <span class="attr">"content"</span>: &#123;</span><br><span class="line">    <span class="attr">"application/json"</span>: &#123;</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">        <span class="attr">"items"</span>: &#123;</span><br><span class="line">          <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/VeryComplexType"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">description:</span> <span class="string">A</span> <span class="string">complex</span> <span class="string">object</span> <span class="string">array</span> <span class="string">response</span></span><br><span class="line"><span class="attr">content:</span></span><br><span class="line">  <span class="string">application/json:</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">      items:</span></span><br><span class="line">        <span class="string">$ref:</span> <span class="string">'#/components/schemas/VeryComplexType'</span></span><br></pre></td></tr></table></figure>

<p>字符串类型的响应：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"A simple string response"</span>,</span><br><span class="line">  <span class="attr">"content"</span>: &#123;</span><br><span class="line">    <span class="attr">"text/plain"</span>: &#123;</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">description:</span> <span class="string">A</span> <span class="string">simple</span> <span class="string">string</span> <span class="string">response</span></span><br><span class="line"><span class="attr">representations:</span></span><br><span class="line">  <span class="string">text/plain:</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">string</span></span><br></pre></td></tr></table></figure>

<p>带HTTP头的普通文本类型的响应：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"A simple string response"</span>,</span><br><span class="line">  <span class="attr">"content"</span>: &#123;</span><br><span class="line">    <span class="attr">"text/plain"</span>: &#123;</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"headers"</span>: &#123;</span><br><span class="line">    <span class="attr">"X-Rate-Limit-Limit"</span>: &#123;</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"The number of allowed requests in the current period"</span>,</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"integer"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"X-Rate-Limit-Remaining"</span>: &#123;</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"The number of remaining requests in the current period"</span>,</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"integer"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"X-Rate-Limit-Reset"</span>: &#123;</span><br><span class="line">      <span class="attr">"description"</span>: <span class="string">"The number of seconds left in the current period"</span>,</span><br><span class="line">      <span class="attr">"schema"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"integer"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">description:</span> <span class="string">A</span> <span class="string">simple</span> <span class="string">string</span> <span class="string">response</span></span><br><span class="line"><span class="attr">content:</span></span><br><span class="line">  <span class="string">text/plain:</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    example:</span> <span class="string">'whoa!'</span></span><br><span class="line"><span class="attr">headers:</span></span><br><span class="line"><span class="attr">  X-Rate-Limit-Limit:</span></span><br><span class="line"><span class="attr">    description:</span> <span class="string">The</span> <span class="string">number</span> <span class="string">of</span> <span class="string">allowed</span> <span class="string">requests</span> <span class="string">in</span> <span class="string">the</span> <span class="string">current</span> <span class="string">period</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">  X-Rate-Limit-Remaining:</span></span><br><span class="line"><span class="attr">    description:</span> <span class="string">The</span> <span class="string">number</span> <span class="string">of</span> <span class="string">remaining</span> <span class="string">requests</span> <span class="string">in</span> <span class="string">the</span> <span class="string">current</span> <span class="string">period</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">  X-Rate-Limit-Reset:</span></span><br><span class="line"><span class="attr">    description:</span> <span class="string">The</span> <span class="string">number</span> <span class="string">of</span> <span class="string">seconds</span> <span class="string">left</span> <span class="string">in</span> <span class="string">the</span> <span class="string">current</span> <span class="string">period</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">integer</span></span><br></pre></td></tr></table></figure>

<p>没有返回值的响应：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"object created"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">description:</span> <span class="string">object</span> <span class="string">created</span></span><br></pre></td></tr></table></figure>

<h4 id="Callback-对象"><a href="#Callback-对象" class="headerlink" title="Callback 对象"></a><a name="callbackObject"></a>Callback 对象</h4><p>A map of possible out-of band callbacks related to the parent operation.<br>映射中的每个值都是一个描述一组可能会被API提供者发起的请求和相应的响应的 <a href="#pathItemObject">Path Item Object</a> 。用以标识回调对象的键是一个表达式，表达式会在运行时被计算，得到的值作为回调操作的URL。</p>
<h5 id="模式字段-2"><a href="#模式字段-2" class="headerlink" title="模式字段"></a>模式字段</h5><table>
<thead>
<tr>
<th>字段名模式</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="callbackExpression"></a>{expression}</td>
<td align="center"><a href="#pathItemObject">Path Item Object</a></td>
<td>一个用于定义回调请求和响应的 Path Item Object。 A <a href="../examples/v3.0/callback-example.yaml">complete example</a> is available.</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Key-Expression"><a href="#Key-Expression" class="headerlink" title="Key Expression"></a>Key Expression</h5><p>用于标识 <a href="#pathItemObject">Path Item Object</a> 的键是一个 <a href="#runtimeExpression">runtime expression</a>，此表达式会在运行时的HTTP请求/响应上下文中被计算，计算结果用于表示回调请求的URL。<br>一个简单的例子是 <code>$request.body#/url</code>。<br>However, using a <a href="#runtimeExpression">runtime expression</a> the complete HTTP message can be accessed.<br>This includes accessing any part of a body that a JSON Pointer <a href="https://tools.ietf.org/html/rfc6901" target="_blank" rel="noopener">RFC6901</a> can reference.</p>
<p>比如有如下 HTTP 请求：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/subscribe/myevent?queryUrl=http://clientdomain.com/stillrunning</span> HTTP/1.1</span><br><span class="line"><span class="attribute">Host</span>: example.org</span><br><span class="line"><span class="attribute">Content-Type</span>: application/json</span><br><span class="line"><span class="attribute">Content-Length</span>: 187</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  "failedUrl" : "http://clientdomain.com/failed",</span><br><span class="line">  "successUrls" : [</span><br><span class="line">    "http://clientdomain.com/fast",</span><br><span class="line">    "http://clientdomain.com/medium",</span><br><span class="line">    "http://clientdomain.com/slow"</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">201 Created</span><br><span class="line"><span class="attribute">Location</span>: http://example.org/subscription/1</span><br></pre></td></tr></table></figure>

<p>下方示例展示了各种表达式是如何被计算，这里假设回调操作有一个名为 <code>eventType</code> 的路径参数和一个名为 <code>queryUrl</code> 的查询参数。</p>
<table>
<thead>
<tr>
<th>Expression</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody><tr>
<td>$url</td>
<td align="left">[<a href="http://example.org/subscribe/myevent?queryUrl=http://clientdomain.com/stillrunning]" target="_blank" rel="noopener">http://example.org/subscribe/myevent?queryUrl=http://clientdomain.com/stillrunning]</a></td>
</tr>
<tr>
<td>$method</td>
<td align="left">POST</td>
</tr>
<tr>
<td>$request.path.eventType</td>
<td align="left">myevent</td>
</tr>
<tr>
<td>$request.query.queryUrl</td>
<td align="left">[<a href="http://clientdomain.com/stillrunning]" target="_blank" rel="noopener">http://clientdomain.com/stillrunning]</a></td>
</tr>
<tr>
<td>$request.header.content-Type</td>
<td align="left">application/json</td>
</tr>
<tr>
<td>$request.body#/failedUrl</td>
<td align="left">[<a href="http://clientdomain.com/stillrunning]" target="_blank" rel="noopener">http://clientdomain.com/stillrunning]</a></td>
</tr>
<tr>
<td>$request.body#/successUrls/2</td>
<td align="left">[<a href="http://clientdomain.com/medium]" target="_blank" rel="noopener">http://clientdomain.com/medium]</a></td>
</tr>
<tr>
<td>$response.header.Location</td>
<td align="left">[<a href="http://example.org/subscription/1]" target="_blank" rel="noopener">http://example.org/subscription/1]</a></td>
</tr>
</tbody></table>
<h5 id="Callback-对象示例"><a href="#Callback-对象示例" class="headerlink" title="Callback 对象示例"></a>Callback 对象示例</h5><p>如下示例展示了一个通过请求体内的 <code>id</code> 和 <code>email</code> 属性指定的URL的回调。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">myWebhook:</span></span><br><span class="line">  <span class="string">'http://notificationServer.com?transactionId=&#123;$request.body#/id&#125;&amp;email=&#123;$request.body#/email&#125;'</span><span class="string">:</span></span><br><span class="line"><span class="attr">    post:</span></span><br><span class="line"><span class="attr">      requestBody:</span></span><br><span class="line"><span class="attr">        description:</span> <span class="string">Callback</span> <span class="string">payload</span></span><br><span class="line"><span class="attr">        content:</span></span><br><span class="line">          <span class="string">'application/json'</span><span class="string">:</span></span><br><span class="line"><span class="attr">            schema:</span></span><br><span class="line">              <span class="string">$ref:</span> <span class="string">'#/components/schemas/SomePayload'</span></span><br><span class="line"><span class="attr">      responses:</span></span><br><span class="line">        <span class="string">'200'</span><span class="string">:</span></span><br><span class="line"><span class="attr">          description:</span> <span class="string">webhook</span> <span class="string">successfully</span> <span class="string">processed</span> <span class="string">and</span> <span class="literal">no</span> <span class="string">retries</span> <span class="string">will</span> <span class="string">be</span> <span class="string">performed</span></span><br></pre></td></tr></table></figure>

<h4 id="Example-对象"><a href="#Example-对象" class="headerlink" title="Example 对象"></a><a name="exampleObject"></a>Example 对象</h4><h5 id="固定字段-16"><a href="#固定字段-16" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="exampleSummary"></a>summary</td>
<td align="center"><code>string</code></td>
<td>example 的简要描述。</td>
</tr>
<tr>
<td><a name="exampleDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>example 的详细描述。<a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="exampleValue"></a>value</td>
<td align="center">Any</td>
<td>嵌入的字面量 example。 <code>value</code>  字段和 <code>externalValue</code> 字段是互斥的。无法使用 JSON 或 YAML 表示的媒体类型可以使用字符串值来表示。</td>
</tr>
<tr>
<td><a name="exampleExternalValue"></a>externalValue</td>
<td align="center"><code>string</code></td>
<td>指向字面 exmaple 的一个 URL。这提供了引用无法被包含在 JSON 或 YAML 文档中的 example。<code>value</code>  字段和 <code>externalValue</code> 字段是互斥的。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<p>In all cases, the example value is expected to be compatible with the type schema<br>of its associated value.  Tooling implementations MAY choose to<br>validate compatibility automatically, and reject the example value(s) if incompatible.</p>
<h5 id="Example-对象示例"><a href="#Example-对象示例" class="headerlink" title="Example 对象示例"></a>Example 对象示例</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># in a model</span></span><br><span class="line"><span class="attr">schemas:</span></span><br><span class="line"><span class="attr">  properties:</span></span><br><span class="line"><span class="attr">    name:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">      examples:</span></span><br><span class="line"><span class="attr">        name:</span></span><br><span class="line">          <span class="string">$ref:</span> <span class="attr">http://example.org/petapi-examples/openapi.json#/components/examples/name-example</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># in a request body:</span></span><br><span class="line"><span class="attr">  requestBody:</span></span><br><span class="line"><span class="attr">    content:</span></span><br><span class="line">      <span class="string">'application/json'</span><span class="string">:</span></span><br><span class="line"><span class="attr">        schema:</span></span><br><span class="line">          <span class="string">$ref:</span> <span class="string">'#/components/schemas/Address'</span></span><br><span class="line"><span class="attr">        examples:</span></span><br><span class="line"><span class="attr">          foo:</span></span><br><span class="line"><span class="attr">            summary:</span> <span class="string">A</span> <span class="string">foo</span> <span class="string">example</span></span><br><span class="line"><span class="attr">            value:</span> <span class="string">&#123;"foo":</span> <span class="string">"bar"</span><span class="string">&#125;</span></span><br><span class="line"><span class="attr">          bar:</span></span><br><span class="line"><span class="attr">            summary:</span> <span class="string">A</span> <span class="string">bar</span> <span class="string">example</span></span><br><span class="line"><span class="attr">            value:</span> <span class="string">&#123;"bar":</span> <span class="string">"baz"</span><span class="string">&#125;</span></span><br><span class="line">      <span class="string">'application/xml'</span><span class="string">:</span></span><br><span class="line"><span class="attr">        examples:</span></span><br><span class="line"><span class="attr">          xmlExample:</span></span><br><span class="line"><span class="attr">            summary:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">an</span> <span class="string">example</span> <span class="string">in</span> <span class="string">XML</span></span><br><span class="line"><span class="attr">            externalValue:</span> <span class="string">'http://example.org/examples/address-example.xml'</span></span><br><span class="line">      <span class="string">'text/plain'</span><span class="string">:</span></span><br><span class="line"><span class="attr">        examples:</span></span><br><span class="line"><span class="attr">          textExample:</span></span><br><span class="line"><span class="attr">            summary:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">a</span> <span class="string">text</span> <span class="string">example</span></span><br><span class="line"><span class="attr">            externalValue:</span> <span class="string">'http://foo.bar/examples/address-example.txt'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># in a parameter</span></span><br><span class="line"><span class="attr">  parameters:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">'zipCode'</span></span><br><span class="line"><span class="attr">      in:</span> <span class="string">'query'</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">'string'</span></span><br><span class="line"><span class="attr">        format:</span> <span class="string">'zip-code'</span></span><br><span class="line"><span class="attr">        examples:</span></span><br><span class="line"><span class="attr">          zip-example:</span></span><br><span class="line">            <span class="string">$ref:</span> <span class="string">'#/components/examples/zip-example'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># in a response</span></span><br><span class="line"><span class="attr">  responses:</span></span><br><span class="line">    <span class="string">'200'</span><span class="string">:</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">your</span> <span class="string">car</span> <span class="string">appointment</span> <span class="string">has</span> <span class="string">been</span> <span class="string">booked</span></span><br><span class="line"><span class="attr">      content:</span></span><br><span class="line">        <span class="string">application/json:</span></span><br><span class="line"><span class="attr">          schema:</span></span><br><span class="line">            <span class="string">$ref:</span> <span class="string">'#/components/schemas/SuccessResponse'</span></span><br><span class="line"><span class="attr">          examples:</span></span><br><span class="line"><span class="attr">            confirmation-success:</span></span><br><span class="line">              <span class="string">$ref:</span> <span class="string">'#/components/examples/confirmation-success'</span></span><br></pre></td></tr></table></figure>

<h4 id="Link-对象"><a href="#Link-对象" class="headerlink" title="Link 对象"></a><a name="linkObject"></a>Link 对象</h4><p>The <code>Link 对象</code> represents a possible design-time link for a response.<br>The presence of a link does not guarantee the caller’s ability to successfully invoke it, rather it provides a known relationship and traversal mechanism between responses and other operations.</p>
<p>Unlike <em>dynamic</em> links (i.e. links provided <strong>in</strong> the response payload), the OAS linking mechanism does not require link information in the runtime response.</p>
<p>For computing links, and providing instructions to execute them, a <a href="#runtimeExpression">runtime expression</a> is used for accessing values in an operation and using them as parameters while invoking the linked operation.</p>
<h5 id="固定字段-17"><a href="#固定字段-17" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">Type</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="linkOperationRef"></a>operationRef</td>
<td align="center"><code>string</code></td>
<td>A relative or absolute reference to an OAS operation. This field is mutually exclusive of the <code>operationId</code> field, and MUST point to an <a href="#operationObject">Operation Object</a>. Relative <code>operationRef</code> values MAY be used to locate an existing <a href="#operationObject">Operation Object</a> in the OpenAPI definition.</td>
</tr>
<tr>
<td><a name="linkOperationId"></a>operationId</td>
<td align="center"><code>string</code></td>
<td>The name of an <em>existing</em>, resolvable OAS operation, as defined with a unique <code>operationId</code>.  This field is mutually exclusive of the <code>operationRef</code> field.</td>
</tr>
<tr>
<td><a name="linkParameters"></a>parameters</td>
<td align="center">Map[<code>string</code>, Any | <a href="#runtimeExpression">{expression}</a>]</td>
<td>A map representing parameters to pass to an operation as specified with <code>operationId</code> or identified via <code>operationRef</code>. The key is the parameter name to be used, whereas the value can be a constant or an expression to be evaluated and passed to the linked operation.  The parameter name can be qualified using the <a href="#parameterIn">parameter location</a> <code>[{in}.]{name}</code> for operations that use the same parameter name in different locations (e.g. path.id).</td>
</tr>
<tr>
<td><a name="linkRequestBody"></a>requestBody</td>
<td align="center">Any | <a href="#runtimeExpression">{expression}</a></td>
<td>A literal value or <a href="#runtimeExpression">{expression}</a> to use as a request body when calling the target operation.</td>
</tr>
<tr>
<td><a name="linkDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>A description of the link. <a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="linkServer"></a>server</td>
<td align="center"><a href="#serverObject">Server Object</a></td>
<td>A server object to be used by the target operation.</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<p>A linked operation MUST be identified using either an <code>operationRef</code> or <code>operationId</code>.<br>In the case of an <code>operationId</code>, it MUST be unique and resolved in the scope of the OAS document.<br>Because of the potential for name clashes, the <code>operationRef</code> syntax is preferred<br>for specifications with external references.</p>
<h5 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h5><p>Computing a link from a request operation where the <code>$request.path.id</code> is used to pass a request parameter to the linked operation.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">paths:</span></span><br><span class="line">  <span class="string">/users/&#123;id&#125;:</span></span><br><span class="line"><span class="attr">    parameters:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">id</span></span><br><span class="line"><span class="attr">      in:</span> <span class="string">path</span></span><br><span class="line"><span class="attr">      required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">the</span> <span class="string">user</span> <span class="string">identifier,</span> <span class="string">as</span> <span class="string">userId</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    get:</span></span><br><span class="line"><span class="attr">      responses:</span></span><br><span class="line">        <span class="string">'200'</span><span class="string">:</span></span><br><span class="line"><span class="attr">          description:</span> <span class="string">the</span> <span class="string">user</span> <span class="string">being</span> <span class="string">returned</span></span><br><span class="line"><span class="attr">          content:</span></span><br><span class="line">            <span class="string">application/json:</span></span><br><span class="line"><span class="attr">              schema:</span></span><br><span class="line"><span class="attr">                type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">                properties:</span></span><br><span class="line"><span class="attr">                  uuid:</span> <span class="comment"># the unique user id</span></span><br><span class="line"><span class="attr">                    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">                    format:</span> <span class="string">uuid</span></span><br><span class="line"><span class="attr">        links:</span></span><br><span class="line"><span class="attr">          address:</span></span><br><span class="line">            <span class="comment"># the target link operationId</span></span><br><span class="line"><span class="attr">            operationId:</span> <span class="string">getUserAddress</span></span><br><span class="line"><span class="attr">            parameters:</span></span><br><span class="line">              <span class="comment"># get the `id` field from the request path parameter named `id`</span></span><br><span class="line"><span class="attr">              userId:</span> <span class="string">$request.path.id</span></span><br><span class="line">  <span class="comment"># the path item of the linked operation</span></span><br><span class="line">  <span class="string">/users/&#123;userid&#125;/address:</span></span><br><span class="line"><span class="attr">    parameters:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">userid</span></span><br><span class="line"><span class="attr">      in:</span> <span class="string">path</span></span><br><span class="line"><span class="attr">      required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">the</span> <span class="string">user</span> <span class="string">identifier,</span> <span class="string">as</span> <span class="string">userId</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">string</span></span><br><span class="line">      <span class="comment"># linked operation</span></span><br><span class="line"><span class="attr">      get:</span></span><br><span class="line"><span class="attr">        operationId:</span> <span class="string">getUserAddress</span></span><br><span class="line"><span class="attr">        responses:</span></span><br><span class="line">          <span class="string">'200'</span><span class="string">:</span></span><br><span class="line"><span class="attr">            description:</span> <span class="string">the</span> <span class="string">user's</span> <span class="string">address</span></span><br></pre></td></tr></table></figure>

<p>When a runtime expression fails to evaluate, no parameter value is passed to the target operation.</p>
<p>Values from the response body can be used to drive a linked operation.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">links:</span></span><br><span class="line"><span class="attr">  address:</span></span><br><span class="line"><span class="attr">    operationId:</span> <span class="string">getUserAddressByUUID</span></span><br><span class="line"><span class="attr">    parameters:</span></span><br><span class="line">      <span class="comment"># get the `id` field from the request path parameter named `id`</span></span><br><span class="line"><span class="attr">      userUuid:</span> <span class="string">$response.body#/uuid</span></span><br></pre></td></tr></table></figure>

<p>Clients follow all links at their discretion.<br>Neither permissions, nor the capability to make a successful call to that link, is guaranteed<br>solely by the existence of a relationship.</p>
<h5 id="OperationRef-Examples"><a href="#OperationRef-Examples" class="headerlink" title="OperationRef Examples"></a>OperationRef Examples</h5><p>As references to <code>operationId</code> MAY NOT be possible (the <code>operationId</code> is an optional<br>value), references MAY also be made through a relative <code>operationRef</code>:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">links:</span></span><br><span class="line"><span class="attr">  UserRepositories:</span></span><br><span class="line">    <span class="comment"># returns array of '#/components/schemas/repository'</span></span><br><span class="line"><span class="attr">    operationRef:</span> <span class="string">'#/paths/~12.0~1repositories~1&#123;username&#125;/get'</span></span><br><span class="line"><span class="attr">    parameters:</span></span><br><span class="line"><span class="attr">      username:</span> <span class="string">$response.body#/username</span></span><br></pre></td></tr></table></figure>

<p>or an absolute <code>operationRef</code>:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">links:</span></span><br><span class="line"><span class="attr">  UserRepositories:</span></span><br><span class="line">    <span class="comment"># returns array of '#/components/schemas/repository'</span></span><br><span class="line"><span class="attr">    operationRef:</span> <span class="string">'https://na2.gigantic-server.com/#/paths/~12.0~1repositories~1&#123;username&#125;/get'</span></span><br><span class="line"><span class="attr">    parameters:</span></span><br><span class="line"><span class="attr">      username:</span> <span class="string">$response.body#/username</span></span><br></pre></td></tr></table></figure>

<p>Note that in the use of <code>operationRef</code>, the <em>escaped forward-slash</em> is necessary when<br>using JSON references.</p>
<h5 id="Runtime-Expressions"><a href="#Runtime-Expressions" class="headerlink" title="Runtime Expressions"></a><a name="runtimeExpression"></a>Runtime Expressions</h5><p>Runtime expressions allow defining values based on information that will only be available within the HTTP message in an actual API call.<br>This mechanism is used by <a href="#linkObject">Link Objects</a> and <a href="#callbackObject">Callback Objects</a>.</p>
<p>The runtime expression is defined by the following <a href="https://tools.ietf.org/html/rfc5234" target="_blank" rel="noopener">ABNF</a> syntax</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">expression = ( &quot;$url&quot; | &quot;$method&quot; | &quot;$statusCode&quot; | &quot;$request.&quot; source | &quot;$response.&quot; source )</span><br><span class="line">source = ( header-reference | query-reference | path-reference | body-reference )</span><br><span class="line">header-reference = &quot;header.&quot; token</span><br><span class="line">query-reference = &quot;query.&quot; name</span><br><span class="line">path-reference = &quot;path.&quot; name</span><br><span class="line">body-reference = &quot;body&quot; [&quot;#&quot; fragment]</span><br><span class="line">fragment = a JSON Pointer [RFC 6901](https://tools.ietf.org/html/rfc6901)</span><br><span class="line">name = *( char )</span><br><span class="line">char = as per RFC [7159](https://tools.ietf.org/html/rfc7159#section-7)</span><br><span class="line">token = as per RFC [7230](https://tools.ietf.org/html/rfc7230#section-3.2.6)</span><br></pre></td></tr></table></figure>

<p>The <code>name</code> identifier is case-sensitive, whereas <code>token</code> is not.</p>
<p>The table below provides examples of runtime expressions and examples of their use in a value:</p>
<h5 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a><a name="runtimeExpressionExamples"></a>Examples</h5><table>
<thead>
<tr>
<th>Source Location</th>
<th align="left">example expression</th>
<th align="left">notes</th>
</tr>
</thead>
<tbody><tr>
<td>HTTP Method</td>
<td align="left"><code>$method</code></td>
<td align="left">The allowable values for the <code>$method</code> will be those for the HTTP operation.</td>
</tr>
<tr>
<td>Requested media type</td>
<td align="left"><code>$request.header.accept</code></td>
<td align="left"></td>
</tr>
<tr>
<td>Request parameter</td>
<td align="left"><code>$request.path.id</code></td>
<td align="left">Request parameters MUST be declared in the <code>parameters</code> section of the parent operation or they cannot be evaluated. This includes request headers.</td>
</tr>
<tr>
<td>Request body property</td>
<td align="left"><code>$request.body#/user/uuid</code></td>
<td align="left">In operations which accept payloads, references may be made to portions of the <code>requestBody</code> or the entire body.</td>
</tr>
<tr>
<td>Request URL</td>
<td align="left"><code>$url</code></td>
<td align="left"></td>
</tr>
<tr>
<td>Response value</td>
<td align="left"><code>$response.body#/status</code></td>
<td align="left">In operations which return payloads, references may be made to portions of the response body or the entire body.</td>
</tr>
<tr>
<td>Response header</td>
<td align="left"><code>$response.header.Server</code></td>
<td align="left">Single header values only are available</td>
</tr>
</tbody></table>
<p>Runtime expressions preserve the type of the referenced value.<br>Expressions can be embedded into string values by surrounding the expression with <code>{}</code> curly braces.</p>
<h4 id="Header-对象"><a href="#Header-对象" class="headerlink" title="Header 对象"></a><a name="headerObject"></a>Header 对象</h4><p>Header 对象除了以下改动之外与 <a href="#parameterObject">Parameter 对象</a> 一致：</p>
<ol>
<li><code>name</code> 不能被指定，它在相应的 <code>headers</code> 映射中被指定。</li>
<li><code>in</code> 不能被指定，它隐含在 <code>header</code> 中。</li>
<li>所有被 location 影响的特性必须适合 <code>header</code> 中的一个 location，(比如 <a href="#parameterStyle"><code>style</code></a>)。</li>
</ol>
<h5 id="Header-对象示例"><a href="#Header-对象示例" class="headerlink" title="Header 对象示例"></a>Header 对象示例</h5><p>一个类型为 <code>integer</code> 的简单 header：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"The number of allowed requests in the current period"</span>,</span><br><span class="line">  <span class="attr">"schema"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"integer"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">description:</span> <span class="string">The</span> <span class="string">number</span> <span class="string">of</span> <span class="string">allowed</span> <span class="string">requests</span> <span class="string">in</span> <span class="string">the</span> <span class="string">current</span> <span class="string">period</span></span><br><span class="line"><span class="attr">schema:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">integer</span></span><br></pre></td></tr></table></figure>

<h4 id="Tag-Object"><a href="#Tag-Object" class="headerlink" title="Tag Object"></a><a name="tagObject"></a>Tag Object</h4><p>Adds metadata to a single tag that is used by the <a href="#operationObject">Operation Object</a>.<br>It is not mandatory to have a Tag Object per tag defined in the Operation Object instances.</p>
<h5 id="固定字段-18"><a href="#固定字段-18" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="tagName"></a>name</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. The name of the tag.</td>
</tr>
<tr>
<td><a name="tagDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>A short description for the tag. <a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="tagExternalDocs"></a>externalDocs</td>
<td align="center"><a href="#externalDocumentationObject">External Documentation Object</a></td>
<td>Additional external documentation for this tag.</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Tag-对象示例"><a href="#Tag-对象示例" class="headerlink" title="Tag 对象示例"></a>Tag 对象示例</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"pet"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"Pets operations"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">pet</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">Pets</span> <span class="string">operations</span></span><br></pre></td></tr></table></figure>

<h4 id="Examples-Object"><a href="#Examples-Object" class="headerlink" title="Examples Object"></a><a name="examplesObject"></a>Examples Object</h4><p>In an <code>example</code>, a JSON Reference MAY be used, with the<br>explicit restriction that examples having a JSON format with object named<br><code>$ref</code> are not allowed. Therefore, that <code>example</code>, structurally, can be<br>either a string primitive or an object, similar to <code>additionalProperties</code>.</p>
<p>In all cases, the payload is expected to be compatible with the type schema<br>for the associated value.  Tooling implementations MAY choose to<br>validate compatibility automatically, and reject the example value(s) if they<br>are incompatible.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># in a model</span></span><br><span class="line"><span class="attr">schemas:</span></span><br><span class="line"><span class="attr">  properties:</span></span><br><span class="line"><span class="attr">    name:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">      example:</span></span><br><span class="line">        <span class="string">$ref:</span> <span class="attr">http://foo.bar#/examples/name-example</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># in a request body, note the plural `examples`</span></span><br><span class="line"><span class="attr">  requestBody:</span></span><br><span class="line"><span class="attr">    content:</span></span><br><span class="line">      <span class="string">'application/json'</span><span class="string">:</span></span><br><span class="line"><span class="attr">        schema:</span></span><br><span class="line">          <span class="string">$ref:</span> <span class="string">'#/components/schemas/Address'</span></span><br><span class="line"><span class="attr">        examples:</span></span><br><span class="line"><span class="attr">          foo:</span></span><br><span class="line"><span class="attr">            value:</span> <span class="string">&#123;"foo":</span> <span class="string">"bar"</span><span class="string">&#125;</span></span><br><span class="line"><span class="attr">          bar:</span></span><br><span class="line"><span class="attr">            value:</span> <span class="string">&#123;"bar":</span> <span class="string">"baz"</span><span class="string">&#125;</span></span><br><span class="line">      <span class="string">'application/xml'</span><span class="string">:</span></span><br><span class="line"><span class="attr">        examples:</span></span><br><span class="line"><span class="attr">          xml:</span></span><br><span class="line"><span class="attr">            externalValue:</span> <span class="string">'http://foo.bar/examples/address-example.xml'</span></span><br><span class="line">      <span class="string">'text/plain'</span><span class="string">:</span></span><br><span class="line"><span class="attr">        examples:</span></span><br><span class="line"><span class="attr">          text:</span></span><br><span class="line"><span class="attr">            externalValue:</span> <span class="string">'http://foo.bar/examples/address-example.txt'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># in a parameter</span></span><br><span class="line"><span class="attr">  parameters:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">'zipCode'</span></span><br><span class="line"><span class="attr">      in:</span> <span class="string">'query'</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">'string'</span></span><br><span class="line"><span class="attr">        format:</span> <span class="string">'zip-code'</span></span><br><span class="line"><span class="attr">        example:</span></span><br><span class="line">          <span class="string">$ref:</span> <span class="string">'http://foo.bar#/examples/zip-example'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># in a response, note the singular `example`:</span></span><br><span class="line"><span class="attr">  responses:</span></span><br><span class="line">    <span class="string">'200'</span><span class="string">:</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">your</span> <span class="string">car</span> <span class="string">appointment</span> <span class="string">has</span> <span class="string">been</span> <span class="string">booked</span></span><br><span class="line"><span class="attr">      content:</span></span><br><span class="line">        <span class="string">application/json:</span></span><br><span class="line"><span class="attr">          schema:</span></span><br><span class="line">            <span class="string">$ref:</span> <span class="string">'#/components/schemas/SuccessResponse'</span></span><br><span class="line"><span class="attr">          example:</span></span><br><span class="line">            <span class="string">$ref:</span> <span class="attr">http://foo.bar#/examples/address-example.json</span></span><br></pre></td></tr></table></figure>

<h4 id="Reference-对象"><a href="#Reference-对象" class="headerlink" title="Reference 对象"></a><a name="referenceObject"></a>Reference 对象</h4><p>一个允许引用规范内部的其他部分或外部规范的对象。</p>
<p>Reference Object 定义于 <a href="https://tools.ietf.org/html/draft-pbryan-zyp-json-ref-03" target="_blank" rel="noopener">JSON Reference</a> 且遵循相同的结构、行为和规则。</p>
<p>For this specification, reference resolution is accomplished as defined by the JSON Reference specification and not by the JSON Schema specification.</p>
<h5 id="固定字段-19"><a href="#固定字段-19" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="referenceRef"></a>$ref</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 引用字符串。</td>
</tr>
</tbody></table>
<p>此对象不能被扩展，任何附加的属性将会被忽略。</p>
<h5 id="Reference-对象示例"><a href="#Reference-对象示例" class="headerlink" title="Reference 对象示例"></a>Reference 对象示例</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/Pet"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$ref:</span> <span class="string">'#/components/schemas/Pet'</span></span><br></pre></td></tr></table></figure>

<h5 id="关联外部文档示例"><a href="#关联外部文档示例" class="headerlink" title="关联外部文档示例"></a>关联外部文档示例</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"$ref"</span>: <span class="string">"Pet.json"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$ref:</span> <span class="string">Pet.yaml</span></span><br></pre></td></tr></table></figure>

<h5 id="关联外部文档的一部分"><a href="#关联外部文档的一部分" class="headerlink" title="关联外部文档的一部分"></a>关联外部文档的一部分</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"$ref"</span>: <span class="string">"definitions.json#/Pet"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$ref:</span> <span class="string">definitions.yaml#/Pet</span></span><br></pre></td></tr></table></figure>

<h4 id="Schema-Object"><a href="#Schema-Object" class="headerlink" title="Schema Object"></a><a name="schemaObject"></a>Schema Object</h4><p>Schema Object 用于定义输入和输出的数据类型。这些类型可以是对象，但也可以是原始值和数组。这个对象是 <a href="http://json-schema.org/" target="_blank" rel="noopener">JSON Schema Specification Wright Draft 00</a> 扩展后的子集.</p>
<p>关于property的的更多信息请查看 <a href="https://tools.ietf.org/html/draft-wright-json-schema-00" target="_blank" rel="noopener">JSON Schema Core</a> 和 <a href="https://tools.ietf.org/html/draft-wright-json-schema-validation-00" target="_blank" rel="noopener">JSON Schema Validation</a>。除非另有说明，否则 properties 定义遵循JSON Schema。</p>
<h5 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h5><p>以下 properties 是直接从 JSON Schema 提取出来的，而且遵循同样的规范：</p>
<ul>
<li>title</li>
<li>multipleOf</li>
<li>maximum</li>
<li>exclusiveMaximum</li>
<li>minimum</li>
<li>exclusiveMinimum</li>
<li>maxLength</li>
<li>minLength</li>
<li>pattern (This string SHOULD be a valid regular expression, according to the <a href="https://www.ecma-international.org/ecma-262/5.1/#sec-7.8.5" target="_blank" rel="noopener">ECMA 262 regular expression</a> dialect)</li>
<li>maxItems</li>
<li>minItems</li>
<li>uniqueItems</li>
<li>maxProperties</li>
<li>minProperties</li>
<li>required</li>
<li>enum</li>
</ul>
<p>以下 properties 是从 JSON Schema 提取出来的，但是做了一些调整以适应 OpenAPI Specification。</p>
<ul>
<li>type - 值必须是一个字符串，不支持以数组形式定义多个值。</li>
<li>allOf - Inline 或 referenced 的 schema 必须是一个 <a href="#schemaObject">Schema Object</a> 且不是一个标准的 JSON Schema。</li>
<li>oneOf - Inline 或 referenced 的 schema 必须是一个 <a href="#schemaObject">Schema Object</a> 且不是一个标准的 JSON Schema。</li>
<li>anyOf - Inline 或 referenced 的 schema 必须是一个 <a href="#schemaObject">Schema Object</a> 且不是一个标准的 JSON Schema。</li>
<li>not - Inline 或 referenced 的 schema 必须是一个 <a href="#schemaObject">Schema Object</a> 且不是一个标准的 JSON Schema。</li>
<li>items - 值必须是一个对象且不是一个数组。Inline 或 referenced 的 schema 必须是一个 <a href="#schemaObject">Schema Object</a>且不是一个标准的 JSON Schem。. <code>items</code> 必须存在如果 <code>type</code> 的值是 <code>array</code>。</li>
<li>properties - Property 定义必须是一个 <a href="#schemaObject">Schema Object</a> 且不是一个标准的 JSON Schema (inline 或 referenced).</li>
<li>additionalProperties - 值可以是 boolean 或 object. Inline 或 referenced schema 必须是一个 <a href="#schemaObject">Schema Object</a> 且不是一个标准的 JSON Schema。</li>
<li>description - <a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</li>
<li>format - 查看 <a href="#dataTypeFormat">Data Type Formats</a> 以深入了解细节。在依靠 JSON Schema 定义的格式的同时，OAS 额外提供了一些预定义的格式。</li>
<li>default - The default value represents what would be assumed by the consumer of the input as the value of the schema if one is not provided. 不同于 JSON Schema，这个值必须符合定义与相同级别的 Schema Object 中定义的类型，比如 <code>type</code> 是 <code>string</code>，那么 <code>default</code> 可以是 <code>&quot;foo&quot;</code> 但不能是 <code>1</code>。</li>
</ul>
<p>另外，任何可以使用 Schema Object 的地方也可以使用 <a href="#referenceObject">Reference Object</a> 替代。这允许引用一个定义而避免重复定义。</p>
<p>未在此处提及的 JSON Schema 规范中定义的其他属性将严格的不被支持。</p>
<p>Other than the JSON Schema subset fields, 以下字段可能会被用于后续的 schema documentation：</p>
<h5 id="固定字段-20"><a href="#固定字段-20" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="schemaNullable"></a>nullable</td>
<td align="center"><code>boolean</code></td>
<td>对于定义的schema，允许发送 <code>null</code> 值。默认值是 <code>false</code>。</td>
</tr>
<tr>
<td><a name="schemaDiscriminator"></a>discriminator</td>
<td align="center"><a href="#discriminatorObject">Discriminator Object</a></td>
<td>Adds support for polymorphism. The discriminator is an object name that is used to differentiate between other schemas which may satisfy the payload description. See <a href="#schemaComposition">Composition and Inheritance</a> for more details.</td>
</tr>
<tr>
<td><a name="schemaReadOnly"></a>readOnly</td>
<td align="center"><code>boolean</code></td>
<td>仅与 Schema <code>&quot;properties&quot;</code> 定义有关。 声明此属性是 “readonly” 的。这意味着它可以作为 response 的一部分但不应该作为 request 的一部分被发送。如果一个 property 的 <code>readOnly</code> 被标记为 <code>true</code> 且在 <code>required</code> 列表中，<code>required</code> 将只作用于 response。一个 property 的 <code>readOnly</code> 和 <code>writeOnly</code> 不允许同时被标记为 <code>true</code>。默认值是 <code>false</code>。</td>
</tr>
<tr>
<td><a name="schemaWriteOnly"></a>writeOnly</td>
<td align="center"><code>boolean</code></td>
<td>仅与 Schema <code>&quot;properties&quot;</code> 定义有关。声明此 property 为 “write only”。所以它可以作为 request 的一部分而不应该作为 response 的一部分被发送。如果一个 property 的 <code>writeOnly</code> 被标记为 <code>true</code> 且在 <code>required</code> 列表中，<code>required</code> 将只作用于 request。一个 property 的 <code>readOnly</code> 和 <code>writeOnly</code> 不能同时被标记为 <code>true</code>。默认值是 <code>false</code>。</td>
</tr>
<tr>
<td><a name="schemaXml"></a>xml</td>
<td align="center"><a href="#xmlObject">XML Object</a></td>
<td>这只能用于 properties schemas，在 root schemas 中没有效果。Adds additional metadata to describe the XML representation of this property.</td>
</tr>
<tr>
<td><a name="schemaExternalDocs"></a>externalDocs</td>
<td align="center"><a href="#externalDocumentationObject">External Documentation Object</a></td>
<td>此 schema 附加的外部文档。</td>
</tr>
<tr>
<td><a name="schemaExample"></a>example</td>
<td align="center">Any</td>
<td>一个用于示范此 schema实例的示例，可以是任意格式。为了表达无法用 JSON 或 YAML 格式呈现的示例，可以使用 string 类型的值，且在必要的地方需要使用字符转义。</td>
</tr>
<tr>
<td><a name="schemaDeprecated"></a> deprecated</td>
<td align="center"><code>boolean</code></td>
<td>表示一个 schema 是废弃的，应该逐渐被放弃使用。默认值是 <code>false</code>.</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h6 id="Composition-and-Inheritance-Polymorphism"><a href="#Composition-and-Inheritance-Polymorphism" class="headerlink" title="Composition and Inheritance (Polymorphism)"></a><a name="schemaComposition"></a>Composition and Inheritance (Polymorphism)</h6><p>The OpenAPI Specification allows combining and extending model definitions using the <code>allOf</code> property of JSON Schema, in effect offering model composition.<br><code>allOf</code> takes an array of object definitions that are validated <em>independently</em> but together compose a single object.</p>
<p>While composition offers model extensibility, it does not imply a hierarchy between the models.<br>To support polymorphism, the OpenAPI Specification adds the <code>discriminator</code> field.<br>When used, the <code>discriminator</code> will be the name of the property that decides which schema definition validates the structure of the model.<br>As such, the <code>discriminator</code> field MUST be a required field.<br>There are are two ways to define the value of a discriminator for an inheriting instance.</p>
<ul>
<li>Use the schema name.</li>
<li>Override the schema name by overriding the property with a new value. If a new value exists, this takes precedence over the schema name.<br>As such, inline schema definitions, which do not have a given id, <em>cannot</em> be used in polymorphism.</li>
</ul>
<h6 id="XML-Modeling"><a href="#XML-Modeling" class="headerlink" title="XML Modeling"></a>XML Modeling</h6><p>The <a href="#schemaXml">xml</a> property allows extra definitions when translating the JSON definition to XML.<br>The <a href="#xmlObject">XML Object</a> contains additional information about the available options.</p>
<h5 id="Schema-对象示例s"><a href="#Schema-对象示例s" class="headerlink" title="Schema 对象示例s"></a>Schema 对象示例s</h5><h6 id="Primitive-Sample"><a href="#Primitive-Sample" class="headerlink" title="Primitive Sample"></a>Primitive Sample</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"string"</span>,</span><br><span class="line">  <span class="attr">"format"</span>: <span class="string">"email"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">format:</span> <span class="string">email</span></span><br></pre></td></tr></table></figure>

<h6 id="Simple-Model"><a href="#Simple-Model" class="headerlink" title="Simple Model"></a>Simple Model</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">  <span class="attr">"required"</span>: [</span><br><span class="line">    <span class="string">"name"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"properties"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"address"</span>: &#123;</span><br><span class="line">      <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/Address"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"age"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"integer"</span>,</span><br><span class="line">      <span class="attr">"format"</span>: <span class="string">"int32"</span>,</span><br><span class="line">      <span class="attr">"minimum"</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">required:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">name</span></span><br><span class="line"><span class="attr">properties:</span></span><br><span class="line"><span class="attr">  name:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">  address:</span></span><br><span class="line">    <span class="string">$ref:</span> <span class="string">'#/components/schemas/Address'</span></span><br><span class="line"><span class="attr">  age:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">    format:</span> <span class="string">int32</span></span><br><span class="line"><span class="attr">    minimum:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h6 id="Model-with-Map-Dictionary-Properties"><a href="#Model-with-Map-Dictionary-Properties" class="headerlink" title="Model with Map/Dictionary Properties"></a>Model with Map/Dictionary Properties</h6><p>For a simple string to string mapping:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">  <span class="attr">"additionalProperties"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">additionalProperties:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">string</span></span><br></pre></td></tr></table></figure>

<p>For a string to model mapping:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">  <span class="attr">"additionalProperties"</span>: &#123;</span><br><span class="line">    <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/ComplexModel"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">additionalProperties:</span></span><br><span class="line">  <span class="string">$ref:</span> <span class="string">'#/components/schemas/ComplexModel'</span></span><br></pre></td></tr></table></figure>

<h6 id="Model-with-Example"><a href="#Model-with-Example" class="headerlink" title="Model with Example"></a>Model with Example</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">  <span class="attr">"properties"</span>: &#123;</span><br><span class="line">    <span class="attr">"id"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"integer"</span>,</span><br><span class="line">      <span class="attr">"format"</span>: <span class="string">"int64"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"name"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"required"</span>: [</span><br><span class="line">    <span class="string">"name"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"example"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Puma"</span>,</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">properties:</span></span><br><span class="line"><span class="attr">  id:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">    format:</span> <span class="string">int64</span></span><br><span class="line"><span class="attr">  name:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">required:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">name</span></span><br><span class="line"><span class="attr">example:</span></span><br><span class="line"><span class="attr">  name:</span> <span class="string">Puma</span></span><br><span class="line"><span class="attr">  id:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h6 id="Models-with-Composition"><a href="#Models-with-Composition" class="headerlink" title="Models with Composition"></a>Models with Composition</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"components"</span>: &#123;</span><br><span class="line">    <span class="attr">"schemas"</span>: &#123;</span><br><span class="line">      <span class="attr">"ErrorModel"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">        <span class="attr">"required"</span>: [</span><br><span class="line">          <span class="string">"message"</span>,</span><br><span class="line">          <span class="string">"code"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">"properties"</span>: &#123;</span><br><span class="line">          <span class="attr">"message"</span>: &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">"code"</span>: &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"integer"</span>,</span><br><span class="line">            <span class="attr">"minimum"</span>: <span class="number">100</span>,</span><br><span class="line">            <span class="attr">"maximum"</span>: <span class="number">600</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"ExtendedErrorModel"</span>: &#123;</span><br><span class="line">        <span class="attr">"allOf"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/ErrorModel"</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">            <span class="attr">"required"</span>: [</span><br><span class="line">              <span class="string">"rootCause"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"properties"</span>: &#123;</span><br><span class="line">              <span class="attr">"rootCause"</span>: &#123;</span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">components:</span></span><br><span class="line"><span class="attr">  schemas:</span></span><br><span class="line"><span class="attr">    ErrorModel:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">      required:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">message</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">code</span></span><br><span class="line"><span class="attr">      properties:</span></span><br><span class="line"><span class="attr">        message:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">        code:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">          minimum:</span> <span class="number">100</span></span><br><span class="line"><span class="attr">          maximum:</span> <span class="number">600</span></span><br><span class="line"><span class="attr">    ExtendedErrorModel:</span></span><br><span class="line"><span class="attr">      allOf:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/ErrorModel'</span></span><br><span class="line"><span class="attr">      - type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">        required:</span></span><br><span class="line"><span class="bullet">        -</span> <span class="string">rootCause</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          rootCause:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br></pre></td></tr></table></figure>

<h6 id="Models-with-Polymorphism-Support"><a href="#Models-with-Polymorphism-Support" class="headerlink" title="Models with Polymorphism Support"></a>Models with Polymorphism Support</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"components"</span>: &#123;</span><br><span class="line">    <span class="attr">"schemas"</span>: &#123;</span><br><span class="line">      <span class="attr">"Pet"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">        <span class="attr">"discriminator"</span>: &#123;</span><br><span class="line">          <span class="attr">"propertyName"</span>: <span class="string">"petType"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"properties"</span>: &#123;</span><br><span class="line">          <span class="attr">"name"</span>: &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">"petType"</span>: &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"required"</span>: [</span><br><span class="line">          <span class="string">"name"</span>,</span><br><span class="line">          <span class="string">"petType"</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"Cat"</span>: &#123;</span><br><span class="line">        <span class="attr">"description"</span>: <span class="string">"A representation of a cat. Note that `Cat` will be used as the discriminator value."</span>,</span><br><span class="line">        <span class="attr">"allOf"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/Pet"</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">            <span class="attr">"properties"</span>: &#123;</span><br><span class="line">              <span class="attr">"huntingSkill"</span>: &#123;</span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"string"</span>,</span><br><span class="line">                <span class="attr">"description"</span>: <span class="string">"The measured skill for hunting"</span>,</span><br><span class="line">                <span class="attr">"default"</span>: <span class="string">"lazy"</span>,</span><br><span class="line">                <span class="attr">"enum"</span>: [</span><br><span class="line">                  <span class="string">"clueless"</span>,</span><br><span class="line">                  <span class="string">"lazy"</span>,</span><br><span class="line">                  <span class="string">"adventurous"</span>,</span><br><span class="line">                  <span class="string">"aggressive"</span></span><br><span class="line">                ]</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"required"</span>: [</span><br><span class="line">              <span class="string">"huntingSkill"</span></span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"Dog"</span>: &#123;</span><br><span class="line">        <span class="attr">"description"</span>: <span class="string">"A representation of a dog. Note that `Dog` will be used as the discriminator value."</span>,</span><br><span class="line">        <span class="attr">"allOf"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"$ref"</span>: <span class="string">"#/components/schemas/Pet"</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">            <span class="attr">"properties"</span>: &#123;</span><br><span class="line">              <span class="attr">"packSize"</span>: &#123;</span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"integer"</span>,</span><br><span class="line">                <span class="attr">"format"</span>: <span class="string">"int32"</span>,</span><br><span class="line">                <span class="attr">"description"</span>: <span class="string">"the size of the pack the dog is from"</span>,</span><br><span class="line">                <span class="attr">"default"</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">"minimum"</span>: <span class="number">0</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"required"</span>: [</span><br><span class="line">              <span class="string">"packSize"</span></span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">components:</span></span><br><span class="line"><span class="attr">  schemas:</span></span><br><span class="line"><span class="attr">    Pet:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">      discriminator:</span></span><br><span class="line"><span class="attr">        propertyName:</span> <span class="string">petType</span></span><br><span class="line"><span class="attr">      properties:</span></span><br><span class="line"><span class="attr">        name:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">        petType:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">      required:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">name</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">petType</span></span><br><span class="line"><span class="attr">    Cat:</span>  <span class="comment">## "Cat" will be used as the discriminator value</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">A</span> <span class="string">representation</span> <span class="string">of</span> <span class="string">a</span> <span class="string">cat</span></span><br><span class="line"><span class="attr">      allOf:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Pet'</span></span><br><span class="line"><span class="attr">      - type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          huntingSkill:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">            description:</span> <span class="string">The</span> <span class="string">measured</span> <span class="string">skill</span> <span class="string">for</span> <span class="string">hunting</span></span><br><span class="line"><span class="attr">            enum:</span></span><br><span class="line"><span class="bullet">            -</span> <span class="string">clueless</span></span><br><span class="line"><span class="bullet">            -</span> <span class="string">lazy</span></span><br><span class="line"><span class="bullet">            -</span> <span class="string">adventurous</span></span><br><span class="line"><span class="bullet">            -</span> <span class="string">aggressive</span></span><br><span class="line"><span class="attr">        required:</span></span><br><span class="line"><span class="bullet">        -</span> <span class="string">huntingSkill</span></span><br><span class="line"><span class="attr">    Dog:</span>  <span class="comment">## "Dog" will be used as the discriminator value</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">A</span> <span class="string">representation</span> <span class="string">of</span> <span class="string">a</span> <span class="string">dog</span></span><br><span class="line"><span class="attr">      allOf:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Pet'</span></span><br><span class="line"><span class="attr">      - type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          packSize:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">            format:</span> <span class="string">int32</span></span><br><span class="line"><span class="attr">            description:</span> <span class="string">the</span> <span class="string">size</span> <span class="string">of</span> <span class="string">the</span> <span class="string">pack</span> <span class="string">the</span> <span class="string">dog</span> <span class="string">is</span> <span class="string">from</span></span><br><span class="line"><span class="attr">            default:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">            minimum:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">        required:</span></span><br><span class="line"><span class="bullet">        -</span> <span class="string">packSize</span></span><br></pre></td></tr></table></figure>

<h4 id="Discriminator-对象"><a href="#Discriminator-对象" class="headerlink" title="Discriminator 对象"></a><a name="discriminatorObject"></a>Discriminator 对象</h4><p>当一个 request bodies 或 response payloads 可以是多种 schemas 时，可以使用一个 <code>discriminator</code> 对象来帮助序列化、反序列化和校验。  The discriminator is a specific object in a schema which is used to inform the consumer of the specification of an alternative schema based on the value associated with it.</p>
<p>当使用 discriminator 时，<em>inline</em> schemas 不会被考虑。</p>
<h5 id="固定字段-21"><a href="#固定字段-21" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="propertyName"></a>propertyName</td>
<td align="center"><code>string</code></td>
<td><strong>必选</strong>. 在 payload 中表示 discriminator 值的属性的名称。</td>
</tr>
<tr>
<td><a name="discriminatorMapping"></a> mapping</td>
<td align="center">Map[<code>string</code>, <code>string</code>]</td>
<td>一个映射 payload 中的值和 schema 名称或引用的对象。</td>
</tr>
</tbody></table>
<p>discriminator 属性仅在与 <code>oneOf</code>, <code>anyOf</code>, <code>allOf</code> 这几个复合关键字之一一起使用时才合法.</p>
<p>在 OAS 3.0 中，一个 response payload 仅可以使用一种类型来描述：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">MyResponseType:</span></span><br><span class="line"><span class="attr">  oneOf:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Cat'</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Dog'</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Lizard'</span></span><br></pre></td></tr></table></figure>

<p>也就是说 payload <em>必须</em> 且只能满足 <code>Cat</code>、<code>Dog</code> 或 <code>Lizzard</code> schemas 中的一个。 In this case, a discriminator MAY act as a “hint” to shortcut validation and selection of the matching schema which may be a costly operation, depending on the complexity of the schema. We can then describe exactly which field tells us which schema to use:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">MyResponseType:</span></span><br><span class="line"><span class="attr">  oneOf:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Cat'</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Dog'</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Lizard'</span></span><br><span class="line"><span class="attr">  discriminator:</span></span><br><span class="line"><span class="attr">    propertyName:</span> <span class="string">pet_type</span></span><br></pre></td></tr></table></figure>

<p>The expectation now is that a property with name <code>pet_type</code> <em>MUST</em> be present in the response payload, and the value will correspond to the name of a schema defined in the OAS document.  Thus the response payload:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"id"</span>: <span class="number">12345</span>,</span><br><span class="line">  <span class="attr">"pet_type"</span>: <span class="string">"Cat"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Will indicate that the <code>Cat</code> schema be used in conjunction with this payload.</p>
<p>In scenarios where the value of the discriminator field does not match the schema name or implicit mapping is not possible, an optional <code>mapping</code> definition MAY be used:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">MyResponseType:</span></span><br><span class="line"><span class="attr">  oneOf:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Cat'</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Dog'</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Lizard'</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">$ref:</span> <span class="string">'https://gigantic-server.com/schemas/Monster/schema.json'</span></span><br><span class="line"><span class="attr">  discriminator:</span></span><br><span class="line"><span class="attr">    propertyName:</span> <span class="string">pet_type</span></span><br><span class="line"><span class="attr">    mapping:</span></span><br><span class="line"><span class="attr">      dog:</span> <span class="string">'#/components/schemas/Dog'</span></span><br><span class="line"><span class="attr">      monster:</span> <span class="string">'https://gigantic-server.com/schemas/Monster/schema.json'</span></span><br></pre></td></tr></table></figure>

<p>Here the discriminator <em>value</em> of <code>dog</code> will map to the schema <code>#/components/schemas/Dog</code>, rather than the default (implicit) value of <code>Dog</code>.  If the discriminator <em>value</em> does not match an implicit or explicit mapping, no schema can be determined and validation SHOULD fail. Mapping keys MUST be string values, but tooling MAY convert response values to strings for comparison.</p>
<p>When used in conjunction with the <code>anyOf</code> construct, the use of the discriminator can avoid ambiguity where multiple schemas may satisfy a single payload.</p>
<p>In both the <code>oneOf</code> and <code>anyOf</code> use cases, all possible schemas MUST be listed explicitly.  To avoid redundancy, the discriminator MAY be added to a parent schema definition, and all schemas comprising the parent schema in an <code>allOf</code> construct may be used as an alternate schema.</p>
<p>For example:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">components:</span></span><br><span class="line"><span class="attr">  schemas:</span></span><br><span class="line"><span class="attr">    Pet:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">      required:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">pet_type</span></span><br><span class="line"><span class="attr">      properties:</span></span><br><span class="line"><span class="attr">        pet_type:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">      discriminator:</span></span><br><span class="line"><span class="attr">        propertyName:</span> <span class="string">pet_type</span></span><br><span class="line"><span class="attr">        mapping:</span></span><br><span class="line"><span class="attr">          cachorro:</span> <span class="string">Dog</span></span><br><span class="line"><span class="attr">    Cat:</span></span><br><span class="line"><span class="attr">      allOf:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Pet'</span></span><br><span class="line"><span class="attr">      - type:</span> <span class="string">object</span></span><br><span class="line">        <span class="comment"># all other properties specific to a `Cat`</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          name:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    Dog:</span></span><br><span class="line"><span class="attr">      allOf:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Pet'</span></span><br><span class="line"><span class="attr">      - type:</span> <span class="string">object</span></span><br><span class="line">        <span class="comment"># all other properties specific to a `Dog`</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          bark:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    Lizard:</span></span><br><span class="line"><span class="attr">      allOf:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">$ref:</span> <span class="string">'#/components/schemas/Pet'</span></span><br><span class="line"><span class="attr">      - type:</span> <span class="string">object</span></span><br><span class="line">        <span class="comment"># all other properties specific to a `Lizard`</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          lovesRocks:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">boolean</span></span><br></pre></td></tr></table></figure>

<p>a payload like this:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"pet_type"</span>: <span class="string">"Cat"</span>,</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"misty"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>will indicate that the <code>Cat</code> schema be used.  Likewise this schema:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"pet_type"</span>: <span class="string">"cachorro"</span>,</span><br><span class="line">  <span class="attr">"bark"</span>: <span class="string">"soft"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>will map to <code>Dog</code> because of the definition in the <code>mappings</code> element.</p>
<h4 id="XML-对象"><a href="#XML-对象" class="headerlink" title="XML 对象"></a><a name="xmlObject"></a>XML 对象</h4><p>一个为 XML 模型定义微调过的元数据对象。</p>
<p>当使用数组时，不会推测 XML 元素的名称（单数或复数形式），所以应该添加 <code>name</code> 属性来提供此信息。<br>查看展示此期望的示例。</p>
<h5 id="固定字段-22"><a href="#固定字段-22" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="xmlName"></a>name</td>
<td align="center"><code>string</code></td>
<td>替换用于描述元素/属性的结构特性的名称。当在 <code>items</code> 内定义时将会影响处于此列表中的每个元素的名称。当定义于 <code>items</code> 之上时将会影响它说包裹的元素且仅当 <code>wrapped</code> 是 <code>true</code> 时，如果 <code>wrapped</code> 是 <code>false</code> 时它将会被忽略。</td>
</tr>
<tr>
<td><a name="xmlNamespace"></a>namespace</td>
<td align="center"><code>string</code></td>
<td>命名空间定义的 URI。其值必须是绝对 URI。</td>
</tr>
<tr>
<td><a name="xmlPrefix"></a>prefix</td>
<td align="center"><code>string</code></td>
<td>用于 <a href="#xmlName">name</a> 的前缀。</td>
</tr>
<tr>
<td><a name="xmlAttribute"></a>attribute</td>
<td align="center"><code>boolean</code></td>
<td>声明此特性定义会被转换为一个属性而不是一个元素。默认值是 <code>false</code>。</td>
</tr>
<tr>
<td><a name="xmlWrapped"></a>wrapped</td>
<td align="center"><code>boolean</code></td>
<td>只可被用于数组定义。表示数组是否被包裹（比如, <code>&lt;books&gt;&lt;book/&gt;&lt;book/&gt;&lt;/books&gt;</code>）或未被包裹（<code>&lt;book/&gt;&lt;book/&gt;</code>）。默认值是 <code>false</code>。此定义只在 <code>type</code> 为 <code>array</code>（位于 <code>items</code> 之上） 时生效。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="XML-对象示例"><a href="#XML-对象示例" class="headerlink" title="XML 对象示例"></a>XML 对象示例</h5><p>XML 对象定义的示例被包括在一个 <a href="#schemaObject">Schema 对象</a> 的特性定义并带有一个样例 XML 来呈现它。</p>
<h6 id="无-XML-元素"><a href="#无-XML-元素" class="headerlink" title="无 XML 元素"></a>无 XML 元素</h6><p>基础字符串属性：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"animals"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animals:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">string</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animals</span>&gt;</span>...<span class="tag">&lt;/<span class="name">animals</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>基础字符串数组属性 (<a href="#xmlWrapped"><code>wrapped</code></a> 默认是 <code>false</code>)：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"animals"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">        <span class="attr">"items"</span>: &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animals:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">  items:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animals</span>&gt;</span>...<span class="tag">&lt;/<span class="name">animals</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">animals</span>&gt;</span>...<span class="tag">&lt;/<span class="name">animals</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">animals</span>&gt;</span>...<span class="tag">&lt;/<span class="name">animals</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="XML-名称替换"><a href="#XML-名称替换" class="headerlink" title="XML 名称替换"></a>XML 名称替换</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"animals"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"string"</span>,</span><br><span class="line">    <span class="attr">"xml"</span>: &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"animal"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animals:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">  xml:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">animal</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animal</span>&gt;</span>...<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="XML-属性，前缀和命名空间"><a href="#XML-属性，前缀和命名空间" class="headerlink" title="XML 属性，前缀和命名空间"></a>XML 属性，前缀和命名空间</h6><p>在此示例中展示了一个完整的模型定义。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"Person"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">    <span class="attr">"properties"</span>: &#123;</span><br><span class="line">      <span class="attr">"id"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"integer"</span>,</span><br><span class="line">        <span class="attr">"format"</span>: <span class="string">"int32"</span>,</span><br><span class="line">        <span class="attr">"xml"</span>: &#123;</span><br><span class="line">          <span class="attr">"attribute"</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"name"</span>: &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"string"</span>,</span><br><span class="line">        <span class="attr">"xml"</span>: &#123;</span><br><span class="line">          <span class="attr">"namespace"</span>: <span class="string">"http://example.com/schema/sample"</span>,</span><br><span class="line">          <span class="attr">"prefix"</span>: <span class="string">"sample"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Person:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">  properties:</span></span><br><span class="line"><span class="attr">    id:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">integer</span></span><br><span class="line"><span class="attr">      format:</span> <span class="string">int32</span></span><br><span class="line"><span class="attr">      xml:</span></span><br><span class="line"><span class="attr">        attribute:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    name:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">      xml:</span></span><br><span class="line"><span class="attr">        namespace:</span> <span class="attr">http://example.com/schema/sample</span></span><br><span class="line"><span class="attr">        prefix:</span> <span class="string">sample</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Person</span> <span class="attr">id</span>=<span class="string">"123"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sample:name</span> <span class="attr">xmlns:sample</span>=<span class="string">"http://example.com/schema/sample"</span>&gt;</span>example<span class="tag">&lt;/<span class="name">sample:name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Person</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="XML-数组"><a href="#XML-数组" class="headerlink" title="XML 数组"></a>XML 数组</h6><p>改变元素的名称：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"animals"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">    <span class="attr">"items"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span>,</span><br><span class="line">      <span class="attr">"xml"</span>: &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"animal"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animals:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">  items:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    xml:</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">animal</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animal</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">animal</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>外部的 <code>name</code> 属性在 XML 上不产生效果：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"animals"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">    <span class="attr">"items"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span>,</span><br><span class="line">      <span class="attr">"xml"</span>: &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"animal"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"xml"</span>: &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"aliens"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animals:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">  items:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    xml:</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">animal</span></span><br><span class="line"><span class="attr">  xml:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">aliens</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animal</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">animal</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>尽管数组是被包裹的，如果没有明确定义一个名称，那么同样地名称会被用于内部和外部：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"animals"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">    <span class="attr">"items"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"xml"</span>: &#123;</span><br><span class="line">      <span class="attr">"wrapped"</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animals:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">  items:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">  xml:</span></span><br><span class="line"><span class="attr">    wrapped:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animals</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">animals</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animals</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">animals</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animals</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">animals</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>为了解决上面示例的命名问题，可以使用下面的定义：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"animals"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">    <span class="attr">"items"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span>,</span><br><span class="line">      <span class="attr">"xml"</span>: &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"animal"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"xml"</span>: &#123;</span><br><span class="line">      <span class="attr">"wrapped"</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animals:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">  items:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    xml:</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">animal</span></span><br><span class="line"><span class="attr">  xml:</span></span><br><span class="line"><span class="attr">    wrapped:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animals</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">animal</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">animal</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">animals</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Affecting both internal and external names:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"animals"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">    <span class="attr">"items"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span>,</span><br><span class="line">      <span class="attr">"xml"</span>: &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"animal"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"xml"</span>: &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"aliens"</span>,</span><br><span class="line">      <span class="attr">"wrapped"</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animals:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">  items:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    xml:</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">animal</span></span><br><span class="line"><span class="attr">  xml:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">aliens</span></span><br><span class="line"><span class="attr">    wrapped:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aliens</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">animal</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">animal</span>&gt;</span>value<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aliens</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果我们改变外部的元素而保持内部的不变：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"animals"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"array"</span>,</span><br><span class="line">    <span class="attr">"items"</span>: &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"string"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"xml"</span>: &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"aliens"</span>,</span><br><span class="line">      <span class="attr">"wrapped"</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animals:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">  items:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">  xml:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">aliens</span></span><br><span class="line"><span class="attr">    wrapped:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aliens</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aliens</span>&gt;</span>value<span class="tag">&lt;/<span class="name">aliens</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aliens</span>&gt;</span>value<span class="tag">&lt;/<span class="name">aliens</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aliens</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="Security-Scheme-对象"><a href="#Security-Scheme-对象" class="headerlink" title="Security Scheme 对象"></a><a name="securitySchemeObject"></a>Security Scheme 对象</h4><p>定义一个用于 operations 的 security scheme。被支持的 schemes 有 HTTP 认证，一个 API key（作为 header 或 query parameter），定义于<a href="https://tools.ietf.org/html/rfc6749" target="_blank" rel="noopener">RFC6749</a> 的 Oauth2 常用流程（implicit、password、application 和 access code）和 <a href="https://tools.ietf.org/html/draft-ietf-oauth-discovery-06" target="_blank" rel="noopener">OpenID Connect Discovery</a>。</p>
<h5 id="固定字段-23"><a href="#固定字段-23" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>Applies To</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="securitySchemeType"></a>type</td>
<td align="center"><code>string</code></td>
<td>Any</td>
<td><strong>必选</strong>. security scheme 的类型。有效值包括 <code>&quot;apiKey&quot;</code>, <code>&quot;http&quot;</code>, <code>&quot;oauth2&quot;</code>, <code>&quot;openIdConnect&quot;</code>.</td>
</tr>
<tr>
<td><a name="securitySchemeDescription"></a>description</td>
<td align="center"><code>string</code></td>
<td>Any</td>
<td>对 security scheme 的简短描述. <a href="http://spec.commonmark.org/" target="_blank" rel="noopener">CommonMark syntax</a>可以被用来呈现富文本格式.</td>
</tr>
<tr>
<td><a name="securitySchemeName"></a>name</td>
<td align="center"><code>string</code></td>
<td><code>apiKey</code></td>
<td><strong>必选</strong>. 用于 header、 query 或 cookie 的参数名字。</td>
</tr>
<tr>
<td><a name="securitySchemeIn"></a>in</td>
<td align="center"><code>string</code></td>
<td><code>apiKey</code></td>
<td><strong>必选</strong>. API key 的位置。有效值包括 <code>&quot;query&quot;</code>、<code>&quot;header&quot;</code> 或 <code>&quot;cookie&quot;</code>.</td>
</tr>
<tr>
<td><a name="securitySchemeScheme"></a>scheme</td>
<td align="center"><code>string</code></td>
<td><code>http</code></td>
<td><strong>必选</strong>. 用于 <a href="https://tools.ietf.org/html/rfc7235#section-5.1" target="_blank" rel="noopener">Authorization header as defined in RFC7235</a> 的 HTTP Auahorization scheme 的名字.</td>
</tr>
<tr>
<td><a name="securitySchemeBearerFormat"></a>bearerFormat</td>
<td align="center"><code>string</code></td>
<td><code>http</code> (<code>&quot;bearer&quot;</code>)</td>
<td>用于提示客户端所使用的bearer token的格式。Bearer token 通常通过一个authorization server生成，所以这个字段最主要的目的是用来记录这个信息。</td>
</tr>
<tr>
<td><a name="securitySchemeFlows"></a>flows</td>
<td align="center"><a href="#oauthFlowsObject">OAuth Flows Object</a></td>
<td><code>oauth2</code></td>
<td><strong>必选</strong>. 一个包含所支持的 flow types 的配置信息的对象。</td>
</tr>
<tr>
<td><a name="securitySchemeOpenIdConnectUrl"></a>openIdConnectUrl</td>
<td align="center"><code>string</code></td>
<td><code>openIdConnect</code></td>
<td><strong>必选</strong>. 用于发现 OAuth2 配置值的OpenId Connect URL，必须是 URL 形式。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="Security-Scheme-对象示例"><a href="#Security-Scheme-对象示例" class="headerlink" title="Security Scheme 对象示例"></a>Security Scheme 对象示例</h5><h6 id="Basic-Authentication-Sample"><a href="#Basic-Authentication-Sample" class="headerlink" title="Basic Authentication Sample"></a>Basic Authentication Sample</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"http"</span>,</span><br><span class="line">  <span class="attr">"scheme"</span>: <span class="string">"basic"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">http</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">basic</span></span><br></pre></td></tr></table></figure>

<h6 id="API-Key-Sample"><a href="#API-Key-Sample" class="headerlink" title="API Key Sample"></a>API Key Sample</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"apiKey"</span>,</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"api_key"</span>,</span><br><span class="line">  <span class="attr">"in"</span>: <span class="string">"header"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">apiKey</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">api_key</span></span><br><span class="line"><span class="attr">in:</span> <span class="string">header</span></span><br></pre></td></tr></table></figure>

<h6 id="JWT-Bearer-Sample"><a href="#JWT-Bearer-Sample" class="headerlink" title="JWT Bearer Sample"></a>JWT Bearer Sample</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"http"</span>,</span><br><span class="line">  <span class="attr">"scheme"</span>: <span class="string">"bearer"</span>,</span><br><span class="line">  <span class="attr">"bearerFormat"</span>: <span class="string">"JWT"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">http</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">bearer</span></span><br><span class="line"><span class="attr">bearerFormat:</span> <span class="string">JWT</span></span><br></pre></td></tr></table></figure>

<h6 id="Implicit-OAuth2-Sample"><a href="#Implicit-OAuth2-Sample" class="headerlink" title="Implicit OAuth2 Sample"></a>Implicit OAuth2 Sample</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"oauth2"</span>,</span><br><span class="line">  <span class="attr">"flows"</span>: &#123;</span><br><span class="line">    <span class="attr">"implicit"</span>: &#123;</span><br><span class="line">      <span class="attr">"authorizationUrl"</span>: <span class="string">"https://example.com/api/oauth/dialog"</span>,</span><br><span class="line">      <span class="attr">"scopes"</span>: &#123;</span><br><span class="line">        <span class="attr">"write:pets"</span>: <span class="string">"modify pets in your account"</span>,</span><br><span class="line">        <span class="attr">"read:pets"</span>: <span class="string">"read your pets"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">oauth2</span></span><br><span class="line"><span class="attr">flows:</span></span><br><span class="line"><span class="attr">  implicit:</span></span><br><span class="line"><span class="attr">    authorizationUrl:</span> <span class="attr">https://example.com/api/oauth/dialog</span></span><br><span class="line"><span class="attr">    scopes:</span></span><br><span class="line"><span class="attr">      write:</span><span class="attr">pets:</span> <span class="string">modify</span> <span class="string">pets</span> <span class="string">in</span> <span class="string">your</span> <span class="string">account</span></span><br><span class="line"><span class="attr">      read:</span><span class="attr">pets:</span> <span class="string">read</span> <span class="string">your</span> <span class="string">pets</span></span><br></pre></td></tr></table></figure>

<h4 id="OAuth-Flows-对象"><a href="#OAuth-Flows-对象" class="headerlink" title="OAuth Flows 对象"></a><a name="oauthFlowsObject"></a>OAuth Flows 对象</h4><p>允许配置支持的 OAuth Flows。</p>
<h5 id="固定字段-24"><a href="#固定字段-24" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="oauthFlowsImplicit"></a>implicit</td>
<td align="center"><a href="#oauthFlowObject">OAuth Flow Object</a></td>
<td>OAuth Implicit flow 的配置</td>
</tr>
<tr>
<td><a name="oauthFlowsPassword"></a>password</td>
<td align="center"><a href="#oauthFlowObject">OAuth Flow Object</a></td>
<td>OAuth Resource Owner Password flow 的配置</td>
</tr>
<tr>
<td><a name="oauthFlowsClientCredentials"></a>clientCredentials</td>
<td align="center"><a href="#oauthFlowObject">OAuth Flow Object</a></td>
<td>OAuth Client Credentials flow 的配置。在 OpenAPI 2.0 中曾被称作 <code>application</code>。</td>
</tr>
<tr>
<td><a name="oauthFlowsAuthorizationCode"></a>authorizationCode</td>
<td align="center"><a href="#oauthFlowObject">OAuth Flow Object</a></td>
<td>OAuth Authorization Code flow 的配置。在 OpenAPI 2.0 中曾被称作 <code>accessCode</code>。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h4 id="OAuth-Flow-对象"><a href="#OAuth-Flow-对象" class="headerlink" title="OAuth Flow 对象"></a><a name="oauthFlowObject"></a>OAuth Flow 对象</h4><p>支持的 OAuth Flow 的配置详情。</p>
<h5 id="固定字段-25"><a href="#固定字段-25" class="headerlink" title="固定字段"></a>固定字段</h5><table>
<thead>
<tr>
<th>字段名</th>
<th align="center">类型</th>
<th>Applies To</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="oauthFlowAuthorizationUrl"></a>authorizationUrl</td>
<td align="center"><code>string</code></td>
<td><code>oauth2</code> (<code>&quot;implicit&quot;</code>, <code>&quot;authorizationCode&quot;</code>)</td>
<td><strong>必选</strong>。用于此流程的 authorization URL。必须是 URL 形式。</td>
</tr>
<tr>
<td><a name="oauthFlowTokenUrl"></a>tokenUrl</td>
<td align="center"><code>string</code></td>
<td><code>oauth2</code> (<code>&quot;password&quot;</code>, <code>&quot;clientCredentials&quot;</code>, <code>&quot;authorizationCode&quot;</code>)</td>
<td><strong>必选</strong>。用于此流程的 token URL。必须是 URL 形式。</td>
</tr>
<tr>
<td><a name="oauthFlowRefreshUrl"></a>refreshUrl</td>
<td align="center"><code>string</code></td>
<td><code>oauth2</code></td>
<td>用于获取 refresh tokens 的 URL，必须是 URL 形式。</td>
</tr>
<tr>
<td><a name="oauthFlowScopes"></a>scopes</td>
<td align="center">Map[<code>string</code>, <code>string</code>]</td>
<td><code>oauth2</code></td>
<td><strong>必选</strong>。可用于 OAuth2 security scheme 的 scope。scope 名称与其简短描述的映射。</td>
</tr>
</tbody></table>
<p>这个对象可能会被<a href="#specificationExtensions">规范扩展</a>扩展。</p>
<h5 id="OAuth-Flow-对象示例s"><a href="#OAuth-Flow-对象示例s" class="headerlink" title="OAuth Flow 对象示例s"></a>OAuth Flow 对象示例s</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"oauth2"</span>,</span><br><span class="line">  <span class="attr">"flows"</span>: &#123;</span><br><span class="line">    <span class="attr">"implicit"</span>: &#123;</span><br><span class="line">      <span class="attr">"authorizationUrl"</span>: <span class="string">"https://example.com/api/oauth/dialog"</span>,</span><br><span class="line">      <span class="attr">"scopes"</span>: &#123;</span><br><span class="line">        <span class="attr">"write:pets"</span>: <span class="string">"modify pets in your account"</span>,</span><br><span class="line">        <span class="attr">"read:pets"</span>: <span class="string">"read your pets"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"authorizationCode"</span>: &#123;</span><br><span class="line">      <span class="attr">"authorizationUrl"</span>: <span class="string">"https://example.com/api/oauth/dialog"</span>,</span><br><span class="line">      <span class="attr">"tokenUrl"</span>: <span class="string">"https://example.com/api/oauth/token"</span>,</span><br><span class="line">      <span class="attr">"scopes"</span>: &#123;</span><br><span class="line">        <span class="attr">"write:pets"</span>: <span class="string">"modify pets in your account"</span>,</span><br><span class="line">        <span class="attr">"read:pets"</span>: <span class="string">"read your pets"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">oauth2</span></span><br><span class="line"><span class="attr">flows:</span></span><br><span class="line"><span class="attr">  implicit:</span></span><br><span class="line"><span class="attr">    authorizationUrl:</span> <span class="attr">https://example.com/api/oauth/dialog</span></span><br><span class="line"><span class="attr">    scopes:</span></span><br><span class="line"><span class="attr">      write:</span><span class="attr">pets:</span> <span class="string">modify</span> <span class="string">pets</span> <span class="string">in</span> <span class="string">your</span> <span class="string">account</span></span><br><span class="line"><span class="attr">      read:</span><span class="attr">pets:</span> <span class="string">read</span> <span class="string">your</span> <span class="string">pets</span></span><br><span class="line"><span class="attr">  authorizationCode:</span></span><br><span class="line"><span class="attr">    authorizationUrl:</span> <span class="attr">https://example.com/api/oauth/dialog</span></span><br><span class="line"><span class="attr">    tokenUrl:</span> <span class="attr">https://example.com/api/oauth/token</span></span><br><span class="line"><span class="attr">    scopes:</span></span><br><span class="line"><span class="attr">      write:</span><span class="attr">pets:</span> <span class="string">modify</span> <span class="string">pets</span> <span class="string">in</span> <span class="string">your</span> <span class="string">account</span></span><br><span class="line"><span class="attr">      read:</span><span class="attr">pets:</span> <span class="string">read</span> <span class="string">your</span> <span class="string">pets</span></span><br></pre></td></tr></table></figure>

<h4 id="Security-Requirement-对象"><a href="#Security-Requirement-对象" class="headerlink" title="Security Requirement 对象"></a><a name="securityRequirementObject"></a>Security Requirement 对象</h4><p>列出执行此 operation 所需的 security schemes。每个属性的名字都必须与<br> <a href="#componentsObject">Components Object</a> 中 <a href="#componentsSecuritySchemes">Security Schemes</a> 声明的 security scheme 相符。</p>
<p>包含多个 schemes 的 Security Requirement 对象中的所有 scheme 都必须要满足授权请求。这便能够支持需要使用多个 query parameters 或 HTTP headers 来传递安全信息的情景。</p>
<p>当When a list of Security Requirement Objects is defined on the <a href="#oasObject">Open API 对象</a> 或 [Operation 对象] (#operationObject) 包含一组 Security Requirement 对象时，请求只需要满足其中一个即可。</p>
<h5 id="模式字段-3"><a href="#模式字段-3" class="headerlink" title="模式字段"></a>模式字段</h5><table>
<thead>
<tr>
<th>字段名模式</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="securityRequirementsName"></a>{name}</td>
<td align="center">[<code>string</code>]</td>
<td>每个名称都必须对应于 <a href="#componentsObject">Components 对象</a> 下的 <a href="#componentsSecuritySchemes">Security Schemes</a> 的一个 security scheme。如果此 security scheme 是 <code>&quot;oauth2&quot;</code> 或 <code>&quot;openIdConnect&quot;</code> 类型，那么其值是用于执行的一组 scope names。对于其他 security scheme 类型。此数组必须是空的。</td>
</tr>
</tbody></table>
<h5 id="Security-Requirement-对象示例"><a href="#Security-Requirement-对象示例" class="headerlink" title="Security Requirement 对象示例"></a>Security Requirement 对象示例</h5><h6 id="Non-OAuth2-Security-Requirement"><a href="#Non-OAuth2-Security-Requirement" class="headerlink" title="Non-OAuth2 Security Requirement"></a>Non-OAuth2 Security Requirement</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"api_key"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">api_key:</span> <span class="string">[]</span></span><br></pre></td></tr></table></figure>

<h6 id="OAuth2-Security-Requirement"><a href="#OAuth2-Security-Requirement" class="headerlink" title="OAuth2 Security Requirement"></a>OAuth2 Security Requirement</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"petstore_auth"</span>: [</span><br><span class="line">    <span class="string">"write:pets"</span>,</span><br><span class="line">    <span class="string">"read:pets"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">petstore_auth:</span></span><br><span class="line"><span class="attr">- write:</span><span class="string">pets</span></span><br><span class="line"><span class="attr">- read:</span><span class="string">pets</span></span><br></pre></td></tr></table></figure>

<h3 id="规范扩展"><a href="#规范扩展" class="headerlink" title="规范扩展"></a><a name="specificationExtensions"></a>规范扩展</h3><p>尽管 OpenAPI Specification 尝试包含大部分的使用场景，在需要时仍然可以通过附加数据来扩展此规范。</p>
<p>此扩展属性被设计为总是以 <code>&quot;x-&quot;</code> 为前缀的模式字段。</p>
<table>
<thead>
<tr>
<th>字段名模式</th>
<th align="center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a name="infoExtensions"></a>^x-</td>
<td align="center">Any</td>
<td>允许扩展 OpenAPI Schema。此字段名必须以 <code>x-</code> 开头，比如 <code>x-internal-id</code>。此字段的值可以是 <code>null</code>、原始类型、数组或对象。可以包含任意有效的 JSON 格式的值。</td>
</tr>
</tbody></table>
<p>此扩展可能会也可能不会被当前的工具支持，但是可以请求工具开发者支持此扩展（如果工具是内部或开源的）。</p>
<h3 id="Security-Filtering"><a href="#Security-Filtering" class="headerlink" title="Security Filtering"></a><a name="securityFiltering"></a>Security Filtering</h3><p>Some objects in the OpenAPI Specification MAY be declared and remain empty, or be completely removed, even though they are inherently the core of the API documentation.</p>
<p>The reasoning is to allow an additional layer of access control over the documentation.<br>While not part of the specification itself, certain libraries MAY choose to allow access to parts of the documentation based on some form of authentication/authorization.</p>
<p>Two examples of this:</p>
<ol>
<li>The <a href="#pathsObject">Paths Object</a> MAY be empty. It may be counterintuitive, but this may tell the viewer that they got to the right place, but can’t access any documentation. They’d still have access to the <a href="#infoObject">Info Object</a> which may contain additional information regarding authentication.</li>
<li>The <a href="#pathItemObject">Path Item Object</a> MAY be empty. In this case, the viewer will be aware that the path exists, but will not be able to see any of its operations or parameters. This is different than hiding the path itself from the <a href="#pathsObject">Paths Object</a>, so the user will not be aware of its existence. This allows the documentation provider to finely control what the viewer can see.</li>
</ol>
<h2 id="Appendix-A-Revision-History"><a href="#Appendix-A-Revision-History" class="headerlink" title="Appendix A: Revision History"></a><a name="revisionHistory"></a>Appendix A: Revision History</h2><table>
<thead>
<tr>
<th>Version</th>
<th>Date</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td>3.0.0</td>
<td>2017-07-26</td>
<td>Release of the OpenAPI Specification 3.0.0</td>
</tr>
<tr>
<td>3.0.0-rc2</td>
<td>2017-06-16</td>
<td>rc2 of the 3.0 specification</td>
</tr>
<tr>
<td>3.0.0-rc1</td>
<td>2017-04-27</td>
<td>rc1 of the 3.0 specification</td>
</tr>
<tr>
<td>3.0.0-rc0</td>
<td>2017-02-28</td>
<td>Implementer’s Draft of the 3.0 specification</td>
</tr>
<tr>
<td>2.0</td>
<td>2015-12-31</td>
<td>Donation of Swagger 2.0 to the Open API Initiative</td>
</tr>
<tr>
<td>2.0</td>
<td>2014-09-08</td>
<td>Release of Swagger 2.0</td>
</tr>
<tr>
<td>1.2</td>
<td>2014-03-14</td>
<td>Initial release of the formal document.</td>
</tr>
<tr>
<td>1.1</td>
<td>2012-08-22</td>
<td>Release of Swagger 1.1</td>
</tr>
<tr>
<td>1.0</td>
<td>2011-08-10</td>
<td>First release of the Swagger Specification</td>
</tr>
</tbody></table>
</div><div class="post-copyright"><blockquote><p>原文作者: 古城烟雨</p><p>原文链接: <a href="http://zws6672.top/2021/06/15/OpenAPI3-0/">http://zws6672.top/2021/06/15/OpenAPI3-0/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"><a href="/tags/springboot/">springboot</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2021/06/15/swagger2/" class="pre">swagger2的使用</a><a href="/2021/06/11/springboot-hot/" class="next">springboot实现热部署</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#开放API规范"><span class="toc-text">开放API规范</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#版本-3-0-0"><span class="toc-text">版本 3.0.0</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#目录"><span class="toc-text">目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#术语定义"><span class="toc-text">术语定义</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#开放API文档"><span class="toc-text">开放API文档</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#路径模板"><span class="toc-text">路径模板</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#媒体类型"><span class="toc-text">媒体类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP状态码"><span class="toc-text">HTTP状态码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#规范"><span class="toc-text">规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本"><span class="toc-text">版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#格式"><span class="toc-text">格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文档结构"><span class="toc-text">文档结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数据类型"><span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#富文本格式"><span class="toc-text">富文本格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#URL的相对引用"><span class="toc-text">URL的相对引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#结构"><span class="toc-text">结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#OpenAPI-对象"><span class="toc-text">OpenAPI 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段"><span class="toc-text">固定字段</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Info-对象"><span class="toc-text">Info 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-1"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Info-对象示例"><span class="toc-text">Info 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Contact-对象"><span class="toc-text">Contact 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-2"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Contact-对象示例"><span class="toc-text">Contact 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#License-对象"><span class="toc-text">License 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-3"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#License-对象示例"><span class="toc-text">License 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Server-对象"><span class="toc-text">Server 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-4"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Server-对象示例"><span class="toc-text">Server 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Server-Variable-对象"><span class="toc-text">Server Variable 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-5"><span class="toc-text">固定字段</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Components-对象"><span class="toc-text">Components 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-6"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Components-对象示例"><span class="toc-text">Components 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Paths-对象"><span class="toc-text">Paths 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#模式字段"><span class="toc-text">模式字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#路径模板匹配"><span class="toc-text">路径模板匹配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Paths-对象示例"><span class="toc-text">Paths 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Path-Item-对象"><span class="toc-text">Path Item 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-7"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Path-Item-对象示例"><span class="toc-text">Path Item 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Operation-Object"><span class="toc-text">Operation Object</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-8"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Operation-对象示例"><span class="toc-text">Operation 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#External-Documentation-对象"><span class="toc-text">External Documentation 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-9"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#External-Documentation-对象示例"><span class="toc-text">External Documentation 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Parameter-Object"><span class="toc-text">Parameter Object</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#参数位置"><span class="toc-text">参数位置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-10"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#样式值"><span class="toc-text">样式值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Style-示例"><span class="toc-text">Style 示例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Parameter-对象示例"><span class="toc-text">Parameter 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Request-Body-Object"><span class="toc-text">Request Body Object</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-11"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Request-Body-示例"><span class="toc-text">Request Body 示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Media-Type-对象"><span class="toc-text">Media Type 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-12"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Media-Type-示例"><span class="toc-text">Media Type 示例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#对文件上传的考虑"><span class="toc-text">对文件上传的考虑</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#x-www-form-urlencoded-请求体的支持"><span class="toc-text">x-www-form-urlencoded 请求体的支持</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#对multipart内容的特别思考"><span class="toc-text">对multipart内容的特别思考</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Encoding-对象"><span class="toc-text">Encoding 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-13"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Encoding-对象示例"><span class="toc-text">Encoding 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Responses-对象"><span class="toc-text">Responses 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-14"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#模式字段-1"><span class="toc-text">模式字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Responses-对象示例"><span class="toc-text">Responses 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Response对象"><span class="toc-text">Response对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-15"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Response-对象示例s"><span class="toc-text">Response 对象示例s</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Callback-对象"><span class="toc-text">Callback 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#模式字段-2"><span class="toc-text">模式字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Key-Expression"><span class="toc-text">Key Expression</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Callback-对象示例"><span class="toc-text">Callback 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-对象"><span class="toc-text">Example 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-16"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Example-对象示例"><span class="toc-text">Example 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Link-对象"><span class="toc-text">Link 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-17"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Examples"><span class="toc-text">Examples</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#OperationRef-Examples"><span class="toc-text">OperationRef Examples</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Runtime-Expressions"><span class="toc-text">Runtime Expressions</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Examples-1"><span class="toc-text">Examples</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Header-对象"><span class="toc-text">Header 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Header-对象示例"><span class="toc-text">Header 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Tag-Object"><span class="toc-text">Tag Object</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-18"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Tag-对象示例"><span class="toc-text">Tag 对象示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Examples-Object"><span class="toc-text">Examples Object</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reference-对象"><span class="toc-text">Reference 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-19"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Reference-对象示例"><span class="toc-text">Reference 对象示例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#关联外部文档示例"><span class="toc-text">关联外部文档示例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#关联外部文档的一部分"><span class="toc-text">关联外部文档的一部分</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Schema-Object"><span class="toc-text">Schema Object</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Properties"><span class="toc-text">Properties</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-20"><span class="toc-text">固定字段</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Composition-and-Inheritance-Polymorphism"><span class="toc-text">Composition and Inheritance (Polymorphism)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#XML-Modeling"><span class="toc-text">XML Modeling</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Schema-对象示例s"><span class="toc-text">Schema 对象示例s</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Primitive-Sample"><span class="toc-text">Primitive Sample</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Simple-Model"><span class="toc-text">Simple Model</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Model-with-Map-Dictionary-Properties"><span class="toc-text">Model with Map/Dictionary Properties</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Model-with-Example"><span class="toc-text">Model with Example</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Models-with-Composition"><span class="toc-text">Models with Composition</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Models-with-Polymorphism-Support"><span class="toc-text">Models with Polymorphism Support</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Discriminator-对象"><span class="toc-text">Discriminator 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-21"><span class="toc-text">固定字段</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XML-对象"><span class="toc-text">XML 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-22"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#XML-对象示例"><span class="toc-text">XML 对象示例</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#无-XML-元素"><span class="toc-text">无 XML 元素</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#XML-名称替换"><span class="toc-text">XML 名称替换</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#XML-属性，前缀和命名空间"><span class="toc-text">XML 属性，前缀和命名空间</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#XML-数组"><span class="toc-text">XML 数组</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Security-Scheme-对象"><span class="toc-text">Security Scheme 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-23"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Security-Scheme-对象示例"><span class="toc-text">Security Scheme 对象示例</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Basic-Authentication-Sample"><span class="toc-text">Basic Authentication Sample</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#API-Key-Sample"><span class="toc-text">API Key Sample</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#JWT-Bearer-Sample"><span class="toc-text">JWT Bearer Sample</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Implicit-OAuth2-Sample"><span class="toc-text">Implicit OAuth2 Sample</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OAuth-Flows-对象"><span class="toc-text">OAuth Flows 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-24"><span class="toc-text">固定字段</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OAuth-Flow-对象"><span class="toc-text">OAuth Flow 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#固定字段-25"><span class="toc-text">固定字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#OAuth-Flow-对象示例s"><span class="toc-text">OAuth Flow 对象示例s</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Security-Requirement-对象"><span class="toc-text">Security Requirement 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#模式字段-3"><span class="toc-text">模式字段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Security-Requirement-对象示例"><span class="toc-text">Security Requirement 对象示例</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Non-OAuth2-Security-Requirement"><span class="toc-text">Non-OAuth2 Security Requirement</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#OAuth2-Security-Requirement"><span class="toc-text">OAuth2 Security Requirement</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#规范扩展"><span class="toc-text">规范扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Security-Filtering"><span class="toc-text">Security Filtering</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Appendix-A-Revision-History"><span class="toc-text">Appendix A: Revision History</span></a></li></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/06/20/swagger2-1/">swagger2 通过OpenAPI文件生成JAVA代码</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/16/rustInstall/">rust安装与初试</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/15/interface-specification/">接口对接规范</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/15/swagger2/">swagger2的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/15/OpenAPI3-0/">OpenAPI 3.0</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/11/springboot-hot/">springboot实现热部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/07/jdk-source-Object/">jdk8 源码 —— Object</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/03/SHA-256/">SHA-256</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/03/jdk-thread-lock/">线程安全与锁优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/27/fmi-cos/">FMI2.0 ———— 联合仿真</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/devops/" style="font-size: 15px;">devops</a> <a href="/tags/CI/" style="font-size: 15px;">CI</a> <a href="/tags/tool/" style="font-size: 15px;">tool</a> <a href="/tags/neo4j/" style="font-size: 15px;">neo4j</a> <a href="/tags/微信小程序/" style="font-size: 15px;">微信小程序</a> <a href="/tags/oracle/" style="font-size: 15px;">oracle</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/系统/" style="font-size: 15px;">系统</a> <a href="/tags/博客搭建/" style="font-size: 15px;">博客搭建</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/co-simulation/" style="font-size: 15px;">co-simulation</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/ms/" style="font-size: 15px;">ms</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/es6/" style="font-size: 15px;">es6</a> <a href="/tags/分布式/" style="font-size: 15px;">分布式</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/运维/" style="font-size: 15px;">运维</a> <a href="/tags/并发/" style="font-size: 15px;">并发</a> <a href="/tags/javaweb/" style="font-size: 15px;">javaweb</a> <a href="/tags/mq/" style="font-size: 15px;">mq</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/Netty/" style="font-size: 15px;">Netty</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/springboot/" style="font-size: 15px;">springboot</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/soft-skills/" style="font-size: 15px;">soft-skills</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/elasticsearch/" style="font-size: 15px;">elasticsearch</a> <a href="/tags/Collection/" style="font-size: 15px;">Collection</a> <a href="/tags/jdk/" style="font-size: 15px;">jdk</a> <a href="/tags/jdk-source/" style="font-size: 15px;">jdk-source</a> <a href="/tags/jna/" style="font-size: 15px;">jna</a> <a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a> <a href="/tags/nk/" style="font-size: 15px;">nk</a> <a href="/tags/rust/" style="font-size: 15px;">rust</a> <a href="/tags/源码/" style="font-size: 15px;">源码</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://juejin.im/" title="掘金" target="_blank">掘金</a><ul></ul><a href="https://www.cnblogs.com/" title="博客园" target="_blank">博客园</a><ul></ul><a href="https://www.infoq.cn/" title="info" target="_blank">info</a><ul></ul><a href="https://www.ibm.com/" title="ibm" target="_blank">ibm</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">古城烟雨.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.4"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.4" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>