<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="一些关于技术的碎语"><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.4"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.4"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><title>mysql 实战（一）数据导出导出 | 微言术语</title></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">mysql 实战（一）数据导出导出</h1><a id="logo" href="/.">微言术语</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">mysql 实战（一）数据导出导出</h1><div class="post-meta"><a href="/2019/12/06/mysql-sz-1-source/#comments" class="comment-count"></a><p><span class="date">Dec 06, 2019</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>mysqldump导出，source导入，谁用谁知道。</p>
<h1 id="一、初识mysqldump"><a href="#一、初识mysqldump" class="headerlink" title="一、初识mysqldump"></a>一、初识mysqldump</h1><p>在初入职场的时候，刚进行正式的开发，数据库半生不熟，表格的创建大都用navicat。一天，老大要我迁移一个数据库，不用说，上navicat。当时是在局域网，用navicat连另外一台电脑的mysql，但navicat迁移大数据库有问题，有时候跑着跑着就卡死了。于是，用navicat导出数据，导出倒是蛮快的，但导入就慢得跟蜗牛一般。</p>
<p>于是，因此使用了mysqldump。</p>
<h3 id="1-什么是-mysqldump"><a href="#1-什么是-mysqldump" class="headerlink" title="1. 什么是 mysqldump"></a>1. 什么是 mysqldump</h3><p>mysqldump可以产生一组能够被执行以再现原始数据库对象定义和表数据的SQL语句。它转储一个或多个MySQL数据库以进行备份或转移到另一台SQL服务器。所述的mysqldump 命令也可以生成CSV输出，其他分隔符的文本或XML格式。</p>
<p>需要的权限：</p>
<ul>
<li>SELECT 查表权限</li>
<li>SHOW VIEW 查看视图权限</li>
<li>TRIGGER 触发器权限</li>
<li>LOCK TABLES 锁表权限<ul>
<li>–single-transaction[单事务]，启用该选项可以避免表在导出的过程中被其他用户删除、修改</li>
</ul>
</li>
<li>ALTER DATABASE<ul>
<li>mysqldump导出的时候可以保存数据的编码格式，但导入数据库的编码可能与导入数据的编码不同，所以使用mysqldump的用户还需要拥有修改数据库的权限</li>
</ul>
</li>
</ul>
<blockquote>
<p>   对于大规模备份和还原， 物理备份更适合于以可以快速还原的原始格式复制数据文件。如果您的表主要是InnoDB 表，或者混合使用InnoDB 和MyISAM表，可以考虑使用MySQL Enterprise Backup产品的 mysqlbackup命令。如果您的表主要是MyISAM 表，请考虑改用mysqlhotcopy ，以获得比mysqldump备份和还原操作更好的性能 。</p>
</blockquote>
<h3 id="差别"><a href="#差别" class="headerlink" title="差别"></a>差别</h3><p>用mysqldump导出数据和用navicat导出有很大的不同。navicat导出是一条数据一个插入语句，即一条数据要执行一次；而mysqldump导出的时候，是把多条插入语句放置在一起，即多条数据执行一次即可。数据量越大，差距越明显。</p>
<h5 id="navicat-导出的sql文件"><a href="#navicat-导出的sql文件" class="headerlink" title="navicat 导出的sql文件"></a>navicat 导出的sql文件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO `tttt` VALUES (&apos;0300F130000170GNN00FAB003&apos;, &apos;20130321&apos;);</span><br><span class="line">INSERT INTO `tttt` VALUES (&apos;0300F130000170GNN00FAB003&apos;, &apos;20130321&apos;);</span><br></pre></td></tr></table></figure>

<h5 id="mysqldump导出的文件"><a href="#mysqldump导出的文件" class="headerlink" title="mysqldump导出的文件"></a>mysqldump导出的文件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO `tttt` VALUES (&apos;0300F130000170GNN00FAB003&apos;, &apos;20130321&apos;),INSERT INTO `tttt` VALUES (&apos;0300F130000170GNN00FAB003&apos;, &apos;20130321&apos;);</span><br></pre></td></tr></table></figure>

<h3 id="mysqldump-使用"><a href="#mysqldump-使用" class="headerlink" title="mysqldump 使用"></a>mysqldump 使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u &lt;username&gt; -p &lt;dbname&gt; &gt; /path/to/***.sql</span><br><span class="line"></span><br><span class="line">shell&gt; mysqldump [options] db_name [tbl_name ...]</span><br><span class="line">shell&gt; mysqldump [options] --databases db_name ...</span><br><span class="line">shell&gt; mysqldump [options] --all-databases</span><br></pre></td></tr></table></figure>

<h5 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">-h, --host=name：服务器IP</span><br><span class="line">-u, --user=name：登录名</span><br><span class="line">-p, --password[=name]:登录密码</span><br><span class="line">-A, --all-databases：导出所有数据库</span><br><span class="line">-B, --databases：导出指定的数据库，多个数据库名使用空格分割</span><br><span class="line">--tables：导出指定表</span><br><span class="line">-d, --no-data：仅导出表结构，不导出数据</span><br><span class="line">-t, --no-create-info：不导出表创建语句</span><br><span class="line">-n, --no-create-db：不导出CREATE DATABASE IF EXISTS语句</span><br><span class="line">-e, --extended-insert：将多条记录合并成一条INSERT语句来提高插入效率</span><br><span class="line">--add-drop-table：在创建表之前加入DROP TABLE语句</span><br><span class="line">--hex-blob ：将二进制的数据以16进制导出</span><br><span class="line">-R, --routines：导出存储过程和存储函数</span><br><span class="line">--triggers：导出触发器</span><br><span class="line">--master-data[=#]：导出CHANGE MASTER命令，当设置为1时，CHANGE命令正常导出，当设置为2时，CHANGE命令以注释模式导出</span><br><span class="line">                    master-data开启时，会默认启用--lock-all-tables选项，并自动禁用--lock-tables选项</span><br><span class="line">--dump-slave：在从库上执行时，dump-slave用来导出当前主库上的位置信息</span><br><span class="line">--single-transaction：单实例模式运行</span><br><span class="line">--lock-all-tables，-x：在导出前对所有表加全局只读锁，并自动关闭--single-transaction 和 --lock-tables 选项</span><br><span class="line">--lock-tables ：在导出当前表数据前才对表进行加锁，该选项指使用与MyISAM表。--lock-tables无法保证所有表数据在数据库级别一致。</span><br><span class="line">--default-character-set=charset：设置导出时使用的字符集</span><br><span class="line">--quick，-q ：在导出大表时很有用，它强制 mysqldump 从服务器查询取得记录直接输出而不是取得所有记录后将它们缓存到内存中。</span><br><span class="line">--skip-opt参数，会关闭默认--opt选项，导致：</span><br><span class="line">		导出脚本中缺少DROP TABLE IF EXISTS语句</span><br><span class="line">		导出脚本中CREATE TABLE语句中缺少存储引擎设置</span><br><span class="line">		导出脚本中CREATE TABLE语句中缺少默认字符集设置</span><br><span class="line">		导出脚本中CREATE TABLE语句中缺少自增列和自增初始值设置。</span><br></pre></td></tr></table></figure>

<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p><em>导出</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 复制单数据库【sys】</span><br><span class="line">mysqldump -u root -p sys &gt; e:test.sql</span><br><span class="line"># 复制单数据库【sys】数据</span><br><span class="line">mysqldump -u root -p sys-t &gt; e:test.sql</span><br><span class="line"># 复制单数据库【sys】结构</span><br><span class="line">mysqldump -u root -p sys-d &gt; e:test.sql</span><br><span class="line"># 复制所有数据库 </span><br><span class="line">mysqldump -u root -p -A &gt; e:test.sql </span><br><span class="line"># 复制多个数据库</span><br><span class="line">mysqldump -u root --databases sys sys2 &gt; e:test.sql</span><br></pre></td></tr></table></figure>

<p><em>导入</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 进入账号</span><br><span class="line">mysql&gt;source f:\test.sql</span><br><span class="line"># 命令行</span><br><span class="line">mysql -uroot -p123456 mydb &lt;f:\mydb.sql</span><br></pre></td></tr></table></figure>

<h1 id="二、导入优化探索"><a href="#二、导入优化探索" class="headerlink" title="二、导入优化探索"></a>二、导入优化探索</h1><p>近几日，在使用source导入11g的文件的时候，运行了十个小时还未结束；判定导入应当存在优化空间。</p>
<h3 id="SELECT-INTO…OUTFILE语句、LOAD-DATA-…INFILE"><a href="#SELECT-INTO…OUTFILE语句、LOAD-DATA-…INFILE" class="headerlink" title="SELECT INTO…OUTFILE语句、LOAD DATA …INFILE"></a>SELECT INTO…OUTFILE语句、LOAD DATA …INFILE</h3><p>SELECT INTO…OUTFILE语句把表数据导出到一个文本文件中，并用LOAD DATA …INFILE语句恢复数据。但是这种方法只能导出或导入数据，并不包括表的结构，意味着不适用于迁移数据库，仅适合迁移单表数据。</p>
<ul>
<li>有读写权限</li>
<li>文件名必须唯一</li>
<li>fields terminated by ‘,’必须存在，否则打开的文件的列在同一的单元格中出现</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * INTO OUTFILE &apos;data.txt&apos; FIELDS TERMINATED BY &apos;,&apos; FROM table2;</span><br><span class="line">LOAD DATA INFILE &apos;data.txt&apos; INTO TABLE table2 FIELDS TERMINATED BY &apos;,&apos;;</span><br></pre></td></tr></table></figure>

<p>导入导出单表数据可以使用SELECT INTO…OUTFILE语句，但我这次要导入的是整个数据库而非单表数据，所以这个方案并不适用。</p>
<h3 id="innodb-flush-log-at-trx-commit、sync-binlog-参数"><a href="#innodb-flush-log-at-trx-commit、sync-binlog-参数" class="headerlink" title="innodb_flush_log_at_trx_commit、sync_binlog 参数"></a>innodb_flush_log_at_trx_commit、sync_binlog 参数</h3><p><em>innodb_flush_log_at_trx_commit</em><br>innodb_flush_log_at_trx_commit  是引擎关于事务提交时刷新日志调度策略。</p>
<ul>
<li>0【延写延刷】：log buffer将每秒一次地写入log file中，并且log file的flush(刷到磁盘)操作同时进行。<em>在这一秒里执行写、刷操作（多个事务）</em>。</li>
<li>1【实写实刷】：每次事务提交时MySQL都会把log buffer的数据写入log file，并且flush(刷到磁盘)中去，该模式为系统默认。<em>每个事务提交都执行写、刷操作</em>。</li>
<li>2【实写延刷】：每次事务提交时MySQL都会把log buffer的数据写入log file，但是flush(刷到磁盘)操作并不会同时进行。该模式下，MySQL会每秒执行一次 flush(刷到磁盘)操作（受限于进程策略，不会保证每秒一次）。<em>每个事务提交都执行写操作，但刷操作每秒一次（多事务）</em></li>
</ul>
<p><em>sync_binlog</em><br>sync_binlog 参数表示每写缓冲多次就同步到磁盘</p>
<ul>
<li>sync_binlog 的默认值是0，像操作系统刷其他文件的机制一样，MySQL不会同步到磁盘中去而是依赖操作系统来刷新binary log。</li>
<li>sync_binlog为1时，每写缓冲1次就同步到磁盘</li>
<li>sync_binlog为500时，每写缓冲500次就同步到磁盘</li>
</ul>
<p><em>设置策略</em></p>
<ul>
<li>当innodb_flush_log_at_trx_commit、sync_binlog 参数均为1，安全性最高，也是默认的策略</li>
<li>当innodb_flush_log_at_trx_commit、sync_binlog 参数均为0，安全性最低，速度最快；</li>
<li>当innodb_flush_log_at_trx_commit 为2、sync_binlog 参数为500，安全性适中，速度较快，只有在操作系统崩溃或者系统掉电的情况下，上一秒钟所有事务数据才可能丢失。</li>
</ul>
<p>在这次使用，我需要导入的是为11g的测试数据库，需要的只是部分表，所以对数据的完整性不在意。所以，两个参数都被设置为0。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">show VARIABLES like &apos;%innodb_flush_log_at_trx_commit%&apos;;</span><br><span class="line">show VARIABLES like &apos;%sync_binlog%&apos;;</span><br><span class="line">-- 推荐配置</span><br><span class="line">set global innodb_flush_log_at_trx_commit = 0;</span><br><span class="line">set global sync_binlog = 0;</span><br><span class="line">-- 重启数据库后失效？</span><br><span class="line">-- 永久生效需要写入 【my.ini】配置文件</span><br></pre></td></tr></table></figure>

<h3 id="导入多个sql文件"><a href="#导入多个sql文件" class="headerlink" title="导入多个sql文件"></a>导入多个sql文件</h3><ul>
<li><p>新建test.sql文件</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source 1.sql</span><br><span class="line">source 2.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行，<code>source test.sql</code></p>
</li>
</ul>
<h3 id="max-allowed-packet、innodb-log-file-size"><a href="#max-allowed-packet、innodb-log-file-size" class="headerlink" title="max_allowed_packet、innodb_log_file_size"></a>max_allowed_packet、innodb_log_file_size</h3><ul>
<li><p>【max_allowed_packet】根据配置文件会限制server接受的数据包大小。有时候大的插入和更新会被max_allowed_packet 参数限制掉，导致失败（当表存在blog字段较为突出）；但设置过大，可能会有超出内存的异常，需要谨慎设置。</p>
<blockquote>
<p>   当传输的packet大于max_allowed_packet时，触发错误EN_NET_PACKET_TOO_LARGE,并且关闭Connection。在有的客户端中也会显示信息Lost connection to MySQL server during query</p>
</blockquote>
</li>
<li><p>【innodb_log_file_size】该参数决定着mysql事务日志文件（ib_logfile0）的大小；当一个日志文件写满后，innodb会自动切换到另外一个日志文件，而且会触发数据库的检查点（Checkpoint），这会导致innodb缓存脏页的小批量刷新，会明显降低innodb的性能。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set global max_allowed_packet = 1024*1024*2000;	</span><br><span class="line">-- set global innodb_log_file_size = 1024*1024*2000;	</span><br><span class="line">-- innodb_log_file_size只读变量，需要在【my.ini】配置</span><br></pre></td></tr></table></figure>

<h3 id="删除多余的日志"><a href="#删除多余的日志" class="headerlink" title="删除多余的日志"></a>删除多余的日志</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show binary logs;</span><br><span class="line">purge binary logs to &apos;binlog.000024&apos;; // 删除000017之前的日志</span><br><span class="line">-- 文件的名称是查出来的最后一条数据</span><br></pre></td></tr></table></figure>

<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>基于以上的各种优化，我的配置文件【my.ini】如今大致如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line">#设置mysql客户端默认字符集</span><br><span class="line">default-character-set=utf8</span><br><span class="line">[mysqld]</span><br><span class="line">#设置3306端口</span><br><span class="line">port = 3306</span><br><span class="line"># 设置mysql的安装目录</span><br><span class="line">basedir=D:\\software\\mysql</span><br><span class="line"># 允许最大连接数</span><br><span class="line">max_connections=200</span><br><span class="line"># 服务端使用的字符集默认为8比特编码的latin1字符集</span><br><span class="line">character-set-server=utf8</span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line"># mysql事务日志文件（ib_logfile0）的大小</span><br><span class="line">innodb_log_file_size=2000M</span><br><span class="line"># mysql server 允许的最大数据包</span><br><span class="line">max_allowed_packet=200M</span><br><span class="line">sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span><br><span class="line"># 事务提交时刷新日志的策略</span><br><span class="line">innodb_flush_log_at_trx_commit=2</span><br><span class="line"># 设置缓冲多少次就同步到磁盘（本地）</span><br><span class="line">sync_binlog=500</span><br></pre></td></tr></table></figure>

<h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><blockquote>
<p>   <a href="http://blog.itpub.net/22664653/viewspace-1063134/" target="_blank" rel="noopener">sync_binlog innodb_flush_log_at_trx_commit 浅析</a><br><a href="http://blog.itpub.net/29654823/viewspace-2147683/" target="_blank" rel="noopener">mysql innodb_log_file_size 和innodb_log_buffer_size参数</a><br><a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-parameters.html#sysvar_innodb_flush_log_at_trx_commit" target="_blank" rel="noopener">InnoDB启动选项和系统变量</a></p>
</blockquote>
</div><div class="post-copyright"><blockquote><p>原文作者: 古城烟雨</p><p>原文链接: <a href="http://zws6672.top/2019/12/06/mysql-sz-1-source/">http://zws6672.top/2019/12/06/mysql-sz-1-source/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"><a href="/tags/mysql/">mysql</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2019/12/07/mysql-sz-2-rename/" class="pre">mysql 实战（二）数据库重命名</a><a href="/2019/11/30/webservice-2-jax-ws/" class="next">webservice 使用（二）jax-ws</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一、初识mysqldump"><span class="toc-text">一、初识mysqldump</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-什么是-mysqldump"><span class="toc-text">1. 什么是 mysqldump</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#差别"><span class="toc-text">差别</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#navicat-导出的sql文件"><span class="toc-text">navicat 导出的sql文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#mysqldump导出的文件"><span class="toc-text">mysqldump导出的文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysqldump-使用"><span class="toc-text">mysqldump 使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#选项"><span class="toc-text">选项</span></a></li></ol></li></ol><li class="toc-item toc-level-3"><a class="toc-link" href="#实例"><span class="toc-text">实例</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、导入优化探索"><span class="toc-text">二、导入优化探索</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SELECT-INTO…OUTFILE语句、LOAD-DATA-…INFILE"><span class="toc-text">SELECT INTO…OUTFILE语句、LOAD DATA …INFILE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#innodb-flush-log-at-trx-commit、sync-binlog-参数"><span class="toc-text">innodb_flush_log_at_trx_commit、sync_binlog 参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#导入多个sql文件"><span class="toc-text">导入多个sql文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#max-allowed-packet、innodb-log-file-size"><span class="toc-text">max_allowed_packet、innodb_log_file_size</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除多余的日志"><span class="toc-text">删除多余的日志</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#结论"><span class="toc-text">结论</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考文章"><span class="toc-text">参考文章</span></a></li></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/06/20/swagger2-1/">swagger2 通过OpenAPI文件生成JAVA代码</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/16/rustInstall/">rust安装与初试</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/15/interface-specification/">接口对接规范</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/15/swagger2/">swagger2的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/15/OpenAPI3-0/">OpenAPI 3.0</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/11/springboot-hot/">springboot实现热部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/07/jdk-source-Object/">jdk8 源码 —— Object</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/03/SHA-256/">SHA-256</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/03/jdk-thread-lock/">线程安全与锁优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/27/fmi-cos/">FMI2.0 ———— 联合仿真</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/devops/" style="font-size: 15px;">devops</a> <a href="/tags/CI/" style="font-size: 15px;">CI</a> <a href="/tags/tool/" style="font-size: 15px;">tool</a> <a href="/tags/neo4j/" style="font-size: 15px;">neo4j</a> <a href="/tags/微信小程序/" style="font-size: 15px;">微信小程序</a> <a href="/tags/oracle/" style="font-size: 15px;">oracle</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/系统/" style="font-size: 15px;">系统</a> <a href="/tags/博客搭建/" style="font-size: 15px;">博客搭建</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/co-simulation/" style="font-size: 15px;">co-simulation</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/ms/" style="font-size: 15px;">ms</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/es6/" style="font-size: 15px;">es6</a> <a href="/tags/分布式/" style="font-size: 15px;">分布式</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/运维/" style="font-size: 15px;">运维</a> <a href="/tags/并发/" style="font-size: 15px;">并发</a> <a href="/tags/javaweb/" style="font-size: 15px;">javaweb</a> <a href="/tags/mq/" style="font-size: 15px;">mq</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/Netty/" style="font-size: 15px;">Netty</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/springboot/" style="font-size: 15px;">springboot</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/soft-skills/" style="font-size: 15px;">soft-skills</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/elasticsearch/" style="font-size: 15px;">elasticsearch</a> <a href="/tags/Collection/" style="font-size: 15px;">Collection</a> <a href="/tags/jdk/" style="font-size: 15px;">jdk</a> <a href="/tags/jdk-source/" style="font-size: 15px;">jdk-source</a> <a href="/tags/jna/" style="font-size: 15px;">jna</a> <a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a> <a href="/tags/nk/" style="font-size: 15px;">nk</a> <a href="/tags/rust/" style="font-size: 15px;">rust</a> <a href="/tags/源码/" style="font-size: 15px;">源码</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://juejin.im/" title="掘金" target="_blank">掘金</a><ul></ul><a href="https://www.cnblogs.com/" title="博客园" target="_blank">博客园</a><ul></ul><a href="https://www.infoq.cn/" title="info" target="_blank">info</a><ul></ul><a href="https://www.ibm.com/" title="ibm" target="_blank">ibm</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">古城烟雨.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.4"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.4" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>