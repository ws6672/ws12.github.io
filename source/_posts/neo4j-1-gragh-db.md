---
title: nexo4j学习指南（一）基础知识
date: 2019-08-31 13:09:42
tags: [neo4j]
---

# 一、图数据库

### 1.图领域的划分

	  用于联机事务图的持久化技术，能被实时访问，被称为图数据库
	  用于离线图分析技术，通常按一系列步骤执行，被称为图计算引擎，可以看作大数据分析技术的一种。
	通常，它专注于处理外部传入的数据，将数据转换为图模型来进行一些解析。
	  而本文关注的是图数据库这一技术。

### 2.图
	图，是节点与节点间关系的集合。Gartner定义了商业世界的五个图——社交、意向、消费、兴趣以及出行。
	例如，QQ的人际关系完全可以用图来存储、维护。

### 3.带标签的属性图模型
	保存节点和联系
	节点有属性
	节点可以有一个或者多个标签
	联系有名字和方向，即有始有终
	联系可以有属性

### 4.那什么是图数据库

	图数据库是基于图这种数据结构来维护数据间的关系，支持对图数据模型的增删改查。
	一般用于事务中，所以设计时考虑了事务的完整性和操作可用性。
	它的两个特性：
		底层存储
			原生图存储（图模型）
			序列化后存储到关系数据库或面向对象数据库（即逻辑上是图模型、实际是其它模型）
		处理引擎
			它的定义给予了免索引邻接的特性，即不需要索引去维护数据间的关系，带来了巨大的性能优势。
			

### 5.图数据库的优势
	性能。随着数据集的增大，关系型数据库处理密集join查询的性能也会随之变差，
	因为关系型数据库用外键或者中间表来维护数据的关系，数据集越大，需要查询的中间表的规模会越大。
	而图数据库，只需查询满足条件的部分图。
	
	灵活性。关系型数据库如果要为表增加一个字段需要花费一定的代价。
	而图数据库天然具有可拓展性，可以自由的增加新的联系、新的节点而不必担心破坏已有的查询和程序。
	
	敏捷性。支持快速修改。


### 6.关系数据库、Nosql数据库、图数据库

+ 关系数据库诞生之初，是为了能够处理表格与表格化结构的数据。表间联系虽然体现在建模阶段，但在投入使用后，需要对这种联系进行有意识的维护。数据集越庞大，关系模型将造成大量表连接、稀疏行和非空逻辑检查，影响性能。而多个相关联的表在查询时会转换为连接操作，使多表联查的成本成倍提高，递归问题的查询代价倍增。

+ NOSQL数据库 这是为了存储无关联的文档/值/列，因为它不需要维护数据间的关系，所以它性能比起关系数据库更高。虽然通过聚合存储（键值对）可以存储数据对象，但它无法修改一个对象中的属性，每次更新或者删除属性都需要修改整个数据对象。聚合存储不利于维护数据一致性，也不提供免索引邻接。

+ 图数据库是基于图的结构，由于查询与遍历都涉及路径，所以它的模型是面向路径的
	
+ 关系数据库通过将模型转换为表格来存储数据，对于复杂的领域模型，表格间的关系会特别复杂；而图数据库通过将领域模型转换为图模型来存储数据，二者是同构的。

# 二、数据建模

### 1.什么是Neo4j

Neo4j旨在有效地存储，处理和查询数据模型中高度连接的数据。借助功能强大且灵活的数据模型，您可以在不损失丰富性的情况下呈现真实世界，可变结构的信息。0

Neo4j被称为本机图数据库，因为它有效地将属性图模型实现到存储级别。这意味着数据的存储方式与白板一样，数据库使用指针来导航和遍历图形。与图形处理或内存库相比，Neo4j还提供完整的数据库特性，包括ACID事务合规性，集群支持和运行时故障转移 - 使其适合在生产场景中使用图形数据。

*Neo4j的特性*
+ Cypher，一种类似于SQL的声明性查询语言，但针对图形进行了优化由于节点和关系的有效表示，在大图中对于深度和广度的恒定时间复杂度。在中等硬件上实现数十亿个节点的扩展。
+ 灵活的属性图模式，可以随着时间的推移进行调整，从而可以在以后实现和添加新关系，
以便在业务需求发生变化时快捷方式和加速域数据。
+ 流行编程语言的驱动程序，包括Java，JavaScript，.NET，Python等等。

### 2.带标签的属性图模型

带标签的属性图模型是最基础的图数据模型，它的主要特征如下

![带标签的属性图模型](/image/19831/neo4j-1-1.png)


### 3.查询图：Cypher
Cypher是一种图数据库查询语言，是Neo4j的特有语法，将在这个系列的文章中用于解释图查询和图结构。

![其它查询语言](/image/19831/neo4j-1-2.png)